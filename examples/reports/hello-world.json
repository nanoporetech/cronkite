{
  "id": "hello:world",
  "components": [
    {
      "element": "epi-headlinevalue",
      "@label": "User defined values",
      "@value": "Hello World!"
    },
    {
      "element": "epi-checkmark",
      "@message": {
        "fn:jmespath": "(clientX>`500` && 'GREATER than 500px' || 'LESS than 500px') || 'Mouse position...'"
      },
      "@fail": {
        "fn:jmespath": "clientX>`500`"
      },
      "listen": "mousemove",
      "layout": {
        "width": 3
      }
    },
    {
      "element": "div",
      "components": [
        {
          "element": "epi-headlinevalue",
          "@label": "DOM events - JMESPath transform",
          "@value": {
            "fn:jmespath": "join(`, `, [join(`Client X: `, [``, to_string(clientX)]), join(`Client Y: `, [``, to_string(clientY)])])"
          },
          "listen": "mousemove"
        }
      ],
      "layout": {
        "width": 1
      }
    },
    {
      "element": "cronk-simple-grid",
      "@headers": [
        [
          "Title",
          "Authors",
          "Year"
        ]
      ],
      "@data": {
        "fn:jmespath": "([][join('', ['<a href=\"https://doi.org/', doi, '\">' , title, '</a>']), authorString, pubYear])[0:2]"
      },
      "@ordered": true,
      "@label": "Query string",
      "listen": "hello:world:results"
    },
    {
      "element": "div",
      "style": {
        "backgroundColor": "#222"
      },
      "components": [
        {
          "element": "h1",
          "@innerHTML": "EUROPE PMC SEARCH RESULTS",
          "layout": {
            "position": "header"
          }
        },
        {
          "element": "epi-headlinevalue",
          "@value": {
            "fn:jmespath": "request.queryString"
          },
          "@label": "Query string",
          "listen": "hello:world:event"
        },
        {
          "element": "cronk-list",
          "@items": {
            "fn:jmespath": "[].join(``,['<a href=\"https://doi.org/', @.doi, '\">' , @.title, '</a>'])"
          },
          "@ordered": true,
          "@label": "Query string",
          "listen": "hello:world:results"
        }
      ]
    }
  ],
  "streams": [
    {
      "element": "cronk-poll-datastream",
      "@url": "https://www.ebi.ac.uk/europepmc/webservices/rest/search?query=AUTH:%22Kulesha+E%22&format=json",
      "@poll-frequency": 25000,
      "@credentials": "omit",
      "@channels": [
        {
          "channel": "hello:world:event",
          "shape": {
            "fn:jmespath": "@"
          }
        },
        {
          "channel": "hello:world:results",
          "shape": {
            "fn:jmespath": "resultList.result"
          }
        }
      ]
    }
  ]
}
