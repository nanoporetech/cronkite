var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,a=arguments.length;e<a;e++)t+=arguments[e].length;for(var r=Array(t),n=0,e=0;e<a;e++)for(var i=arguments[e],s=0,o=i.length;s<o;s++,n++)r[n]=i[s];return r};System.register(["./p-00ae5dc6.system.js","./p-985215b0.system.js"],(function(t){"use strict";var e,a,r;return{setters:[function(t){e=t.r;a=t.h},function(t){r=t.C}],execute:function(){var n={colour:r,width:300};var i=t("epi_donutsummary",function(){function t(t){e(this,t);this.data=[];this.width=300}t.prototype.setDataHandler=function(t){if(typeof this.data==="string")this.data=this.validateData(t)};t.prototype.componentWillLoad=function(){if(typeof this.data==="string")this.data=this.validateData(this.data)};t.prototype.validateData=function(t){var e=t;if(typeof t==="string"){try{e=JSON.parse(t)}catch(a){e=[];console.warn("Could not process data",a.message)}}return e.sort((function(t,e){return e.value-t.value})).reduce((function(t,a,r){if(e.length<=n.colour.length||r<n.colour.length){return __spreadArrays(t,[a])}var i=t.reverse(),s=i[0],o=i.slice(1);s=Object.assign(s,{name:"Other",value:s.value||0+a.value||0});return __spreadArrays([s],o).reverse()}),[])};t.prototype.render=function(){if(!this.data||typeof this.data==="string")return null;var t=this.data.reduce((function(t,e){return t+e.value||0}),0);var e=this.validateData(this.data);var r=this.width||n.width;var i=18/n.width;return a("div",{class:"donutsummary-container",style:{minWidth:r+"px",fontSize:"calc("+i+" * "+r+"px)"}},a("div",{class:"donutsummary-legend-container",style:{minHeight:"calc("+r+"px - calc("+i+" * 7rem))",minWidth:"calc("+r+"px - calc("+i+" * 7rem))",transform:"translateY(calc("+i+" * 3.6rem))"}},e.length?a("slot",{name:"donut-legend"},a("div",{class:"legend-list"},e.sort((function(t,e){return e.value-t.value})).map((function(e,s){var o=e.name,l=e.value,u=e.colour,c=e.color;return a("li",{class:"legend-item",key:o},a("span",{class:"legend-percentage"},(l/t*100).toFixed(0),"%"),a("span",{class:"legend-icon",role:"presentation",style:{backgroundColor:u||c||n.colour[s],minHeight:"calc("+i+" * "+r+"px)",minWidth:"calc("+i+" * "+r+"px)"}}),a("span",{class:"legend-label"},o))})))):null),a("div",{class:"donutsummary-image-container"},a("epi-donutimage",{width:this.width,height:this.width,data:e,"inner-radius":"80"})))};Object.defineProperty(t,"watchers",{get:function(){return{data:["setDataHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{--epi-donut-background-color:var(--epi2me-background-color,transparent)}.donutsummary-container{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;width:-webkit-min-content;width:-moz-min-content;width:min-content;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-pack:center;justify-content:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;line-height:1.7;margin:0 auto;color:#555}.donutsummary-container .donutsummary-image-container{z-index:0}.donutsummary-container .donutsummary-legend-container{display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-line-pack:center;align-content:center;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-flow:row wrap;flex-flow:row wrap;position:absolute;z-index:1;-webkit-transform:translateY(3.5rem);transform:translateY(3.5rem)}.donutsummary-container .donutsummary-legend-container .legend-list{list-style:circle;list-style:none;margin:0;padding:0;width:60%}.donutsummary-container .donutsummary-legend-container .legend-list .legend-item{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-pack:end;justify-content:flex-end;-ms-flex-align:center;align-items:center;width:100%}.donutsummary-container .donutsummary-legend-container .legend-list .legend-item .legend-percentage{text-align:right;margin-right:5%}.donutsummary-container .donutsummary-legend-container .legend-list .legend-item .legend-icon{display:inline-block;border-radius:50%;margin-right:5%}.donutsummary-container .donutsummary-legend-container .legend-list .legend-item .legend-label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;min-width:60%;max-width:60%;text-align:left}.donutsummary-container .donutsummary-legend-container .legend-list .legend-item .legend-label:hover{overflow:visible}"},enumerable:true,configurable:true});return t}())}}}));