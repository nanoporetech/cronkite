var t=Math.PI,n=2*t,r=n-1e-6;function i(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new i}function e(t){return function(){return t}}i.prototype=u.prototype={constructor:i,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,r,i){this._+="Q"+ +t+","+ +n+","+(this._x1=+r)+","+(this._y1=+i)},bezierCurveTo:function(t,n,r,i,u,e){this._+="C"+ +t+","+ +n+","+ +r+","+ +i+","+(this._x1=+u)+","+(this._y1=+e)},arcTo:function(n,r,i,u,e){var o=this._x1,f=this._y1,a=(i=+i)-(n=+n),s=(u=+u)-(r=+r),h=o-n,c=f-r,l=h*h+c*c;if((e=+e)<0)throw new Error("negative radius: "+e);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=r);else if(l>1e-6)if(Math.abs(c*a-s*h)>1e-6&&e){var v=i-o,w=u-f,d=a*a+s*s,y=v*v+w*w,p=Math.sqrt(d),M=Math.sqrt(l),g=e*Math.tan((t-Math.acos((d+l-y)/(2*p*M)))/2),m=g/M,b=g/p;Math.abs(m-1)>1e-6&&(this._+="L"+(n+m*h)+","+(r+m*c)),this._+="A"+e+","+e+",0,0,"+ +(c*v>h*w)+","+(this._x1=n+b*a)+","+(this._y1=r+b*s)}else this._+="L"+(this._x1=n)+","+(this._y1=r)},arc:function(i,u,e,o,f,a){i=+i,u=+u,a=!!a;var s=(e=+e)*Math.cos(o),h=e*Math.sin(o),c=i+s,l=u+h,v=1^a,w=a?o-f:f-o;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+c+","+l),e&&(w<0&&(w=w%n+n),w>r?this._+="A"+e+","+e+",0,1,"+v+","+(i-s)+","+(u-h)+"A"+e+","+e+",0,1,"+v+","+(this._x1=c)+","+(this._y1=l):w>1e-6&&(this._+="A"+e+","+e+",0,"+ +(w>=t)+","+v+","+(this._x1=i+e*Math.cos(f))+","+(this._y1=u+e*Math.sin(f))))},rect:function(t,n,r,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +r+"v"+ +i+"h"+-r+"Z"},toString:function(){return this._}};var o=Math.abs,f=Math.atan2,a=Math.cos,s=Math.max,h=Math.min,c=Math.sin,l=Math.sqrt,v=1e-12,w=Math.PI,d=w/2,y=2*w;function p(t){return t>=1?d:t<=-1?-d:Math.asin(t)}function M(t){return t.innerRadius}function g(t){return t.outerRadius}function m(t){return t.startAngle}function b(t){return t.endAngle}function N(t){return t&&t.padAngle}function k(t,n,r,i,u,e,o){var f=t-r,a=n-i,h=(o?e:-e)/l(f*f+a*a),c=h*a,v=-h*f,w=t+c,d=n+v,y=r+c,p=i+v,M=(w+y)/2,g=(d+p)/2,m=y-w,b=p-d,N=m*m+b*b,k=u-e,A=w*p-y*d,x=(b<0?-1:1)*l(s(0,k*k*N-A*A)),E=(A*b-m*x)/N,S=(-A*m-b*x)/N,T=(A*b+m*x)/N,q=(-A*m+b*x)/N,$=E-M,_=S-g,X=T-M,j=q-g;return $*$+_*_>X*X+j*j&&(E=T,S=q),{cx:E,cy:S,x01:-c,y01:-v,x11:E*(u/k-1),y11:S*(u/k-1)}}function A(){var t=M,n=g,r=e(0),i=null,s=m,A=b,x=N,E=null;function S(){var e,M,g=+t.apply(this,arguments),m=+n.apply(this,arguments),b=s.apply(this,arguments)-d,N=A.apply(this,arguments)-d,S=o(N-b),T=N>b;if(E||(E=e=u()),m<g&&(M=m,m=g,g=M),m>v)if(S>y-v)E.moveTo(m*a(b),m*c(b)),E.arc(0,0,m,b,N,!T),g>v&&(E.moveTo(g*a(N),g*c(N)),E.arc(0,0,g,N,b,T));else{var q,$,_=b,X=N,j=b,R=N,z=S,C=S,D=x.apply(this,arguments)/2,L=D>v&&(i?+i.apply(this,arguments):l(g*g+m*m)),P=h(o(m-g)/2,+r.apply(this,arguments)),Y=P,H=P;if(L>v){var I=p(L/g*c(D)),O=p(L/m*c(D));(z-=2*I)>v?(j+=I*=T?1:-1,R-=I):(z=0,j=R=(b+N)/2),(C-=2*O)>v?(_+=O*=T?1:-1,X-=O):(C=0,_=X=(b+N)/2)}var Z=m*a(_),B=m*c(_),V=g*a(R),F=g*c(R);if(P>v){var G,Q=m*a(X),J=m*c(X),K=g*a(j),U=g*c(j);if(S<w&&(G=function(t,n,r,i,u,e,o,f){var a=r-t,s=i-n,h=o-u,c=f-e,l=c*a-h*s;if(!(l*l<v))return[t+(l=(h*(n-e)-c*(t-u))/l)*a,n+l*s]}(Z,B,K,U,Q,J,V,F))){var W=Z-G[0],tt=B-G[1],nt=Q-G[0],rt=J-G[1],it=1/c(function(t){return t>1?0:t<-1?w:Math.acos(t)}((W*nt+tt*rt)/(l(W*W+tt*tt)*l(nt*nt+rt*rt)))/2),ut=l(G[0]*G[0]+G[1]*G[1]);Y=h(P,(g-ut)/(it-1)),H=h(P,(m-ut)/(it+1))}}C>v?H>v?(q=k(K,U,Z,B,m,H,T),$=k(Q,J,V,F,m,H,T),E.moveTo(q.cx+q.x01,q.cy+q.y01),H<P?E.arc(q.cx,q.cy,H,f(q.y01,q.x01),f($.y01,$.x01),!T):(E.arc(q.cx,q.cy,H,f(q.y01,q.x01),f(q.y11,q.x11),!T),E.arc(0,0,m,f(q.cy+q.y11,q.cx+q.x11),f($.cy+$.y11,$.cx+$.x11),!T),E.arc($.cx,$.cy,H,f($.y11,$.x11),f($.y01,$.x01),!T))):(E.moveTo(Z,B),E.arc(0,0,m,_,X,!T)):E.moveTo(Z,B),g>v&&z>v?Y>v?(q=k(V,F,Q,J,g,-Y,T),$=k(Z,B,K,U,g,-Y,T),E.lineTo(q.cx+q.x01,q.cy+q.y01),Y<P?E.arc(q.cx,q.cy,Y,f(q.y01,q.x01),f($.y01,$.x01),!T):(E.arc(q.cx,q.cy,Y,f(q.y01,q.x01),f(q.y11,q.x11),!T),E.arc(0,0,g,f(q.cy+q.y11,q.cx+q.x11),f($.cy+$.y11,$.cx+$.x11),T),E.arc($.cx,$.cy,Y,f($.y11,$.x11),f($.y01,$.x01),!T))):E.arc(0,0,g,R,j,T):E.lineTo(V,F)}else E.moveTo(0,0);if(E.closePath(),e)return E=null,e+""||null}return S.centroid=function(){var r=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,i=(+s.apply(this,arguments)+ +A.apply(this,arguments))/2-w/2;return[a(i)*r,c(i)*r]},S.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:e(+n),S):t},S.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:e(+t),S):n},S.cornerRadius=function(t){return arguments.length?(r="function"==typeof t?t:e(+t),S):r},S.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:e(+t),S):i},S.startAngle=function(t){return arguments.length?(s="function"==typeof t?t:e(+t),S):s},S.endAngle=function(t){return arguments.length?(A="function"==typeof t?t:e(+t),S):A},S.padAngle=function(t){return arguments.length?(x="function"==typeof t?t:e(+t),S):x},S.context=function(t){return arguments.length?(E=null==t?null:t,S):E},S}function x(t){this._context=t}function E(t){return new x(t)}function S(t){return t[0]}function T(t){return t[1]}function q(){var t=S,n=T,r=e(!0),i=null,o=E,f=null;function a(e){var a,s,h,c=e.length,l=!1;for(null==i&&(f=o(h=u())),a=0;a<=c;++a)!(a<c&&r(s=e[a],a,e))===l&&((l=!l)?f.lineStart():f.lineEnd()),l&&f.point(+t(s,a,e),+n(s,a,e));if(h)return f=null,h+""||null}return a.x=function(n){return arguments.length?(t="function"==typeof n?n:e(+n),a):t},a.y=function(t){return arguments.length?(n="function"==typeof t?t:e(+t),a):n},a.defined=function(t){return arguments.length?(r="function"==typeof t?t:e(!!t),a):r},a.curve=function(t){return arguments.length?(o=t,null!=i&&(f=o(i)),a):o},a.context=function(t){return arguments.length?(null==t?i=f=null:f=o(i=t),a):i},a}function $(t,n){return n<t?-1:n>t?1:n>=t?0:NaN}function _(t){return t}function X(){var t=_,n=$,r=null,i=e(0),u=e(y),o=e(0);function f(e){var f,a,s,h,c,l=e.length,v=0,w=new Array(l),d=new Array(l),p=+i.apply(this,arguments),M=Math.min(y,Math.max(-y,u.apply(this,arguments)-p)),g=Math.min(Math.abs(M)/l,o.apply(this,arguments)),m=g*(M<0?-1:1);for(f=0;f<l;++f)(c=d[w[f]=f]=+t(e[f],f,e))>0&&(v+=c);for(null!=n?w.sort((function(t,r){return n(d[t],d[r])})):null!=r&&w.sort((function(t,n){return r(e[t],e[n])})),f=0,s=v?(M-l*m)/v:0;f<l;++f,p=h)d[a=w[f]]={data:e[a],index:f,value:c=d[a],startAngle:p,endAngle:h=p+(c>0?c*s:0)+m,padAngle:g};return d}return f.value=function(n){return arguments.length?(t="function"==typeof n?n:e(+n),f):t},f.sortValues=function(t){return arguments.length?(n=t,r=null,f):n},f.sort=function(t){return arguments.length?(r=t,n=null,f):r},f.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:e(+t),f):i},f.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:e(+t),f):u},f.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:e(+t),f):o},f}function j(t){return t<0?-1:1}function R(t,n,r){var i=t._x1-t._x0,u=n-t._x1,e=(t._y1-t._y0)/(i||u<0&&-0),o=(r-t._y1)/(u||i<0&&-0),f=(e*u+o*i)/(i+u);return(j(e)+j(o))*Math.min(Math.abs(e),Math.abs(o),.5*Math.abs(f))||0}function z(t,n){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-n)/2:n}function C(t,n,r){var i=t._x0,u=t._x1,e=t._y1,o=(u-i)/3;t._context.bezierCurveTo(i+o,t._y0+o*n,u-o,e-o*r,u,e)}function D(t){this._context=t}function L(t){this._context=t}function P(t){this._context=t}function Y(t){var n,r,i=t.length-1,u=new Array(i),e=new Array(i),o=new Array(i);for(u[0]=0,e[0]=2,o[0]=t[0]+2*t[1],n=1;n<i-1;++n)u[n]=1,e[n]=4,o[n]=4*t[n]+2*t[n+1];for(u[i-1]=2,e[i-1]=7,o[i-1]=8*t[i-1]+t[i],n=1;n<i;++n)e[n]-=r=u[n]/e[n-1],o[n]-=r*o[n-1];for(u[i-1]=o[i-1]/e[i-1],n=i-2;n>=0;--n)u[n]=(o[n]-u[n+1])/e[n];for(e[i-1]=(t[i]+u[i-1])/2,n=0;n<i-1;++n)e[n]=2*t[n+1]-u[n+1];return[u,e]}function H(t){return new P(t)}function I(t,n){this._context=t,this._t=n}function O(t){return new I(t,.5)}x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}},D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:C(this,this._t0,z(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var r=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,C(this,z(this,r=R(this,t,n)),r);break;default:C(this,this._t0,r=R(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=r}}},(function(t){this._context=new L(t)}.prototype=Object.create(D.prototype)).point=function(t,n){D.prototype.point.call(this,n,t)},L.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,r,i,u,e){this._context.bezierCurveTo(n,t,i,r,e,u)}},P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===r)this._context.lineTo(t[1],n[1]);else for(var i=Y(t),u=Y(n),e=0,o=1;o<r;++e,++o)this._context.bezierCurveTo(i[0][e],u[0][e],i[1][e],u[1][e],t[o],n[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}},I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,n)}}this._x=t,this._y=n}};var Z="http://www.w3.org/1999/xhtml";const B={svg:"http://www.w3.org/2000/svg",xhtml:Z,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(t){var n=t+="",r=n.indexOf(":");return r>=0&&"xmlns"!==(n=t.slice(0,r))&&(t=t.slice(r+1)),B.hasOwnProperty(n)?{space:B[n],local:t}:t}function F(t){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===Z&&n.documentElement.namespaceURI===Z?n.createElement(t):n.createElementNS(r,t)}}function G(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Q(t){var n=V(t);return(n.local?G:F)(n)}function J(){}function K(t){return null==t?J:function(){return this.querySelector(t)}}function U(){return[]}function W(t){return null==t?U:function(){return this.querySelectorAll(t)}}function tt(t){return function(){return this.matches(t)}}function nt(t){return new Array(t.length)}function rt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}rt.prototype={constructor:rt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var it="$";function ut(t,n,r,i,u,e){for(var o,f=0,a=n.length,s=e.length;f<s;++f)(o=n[f])?(o.__data__=e[f],i[f]=o):r[f]=new rt(t,e[f]);for(;f<a;++f)(o=n[f])&&(u[f]=o)}function et(t,n,r,i,u,e,o){var f,a,s,h={},c=n.length,l=e.length,v=new Array(c);for(f=0;f<c;++f)(a=n[f])&&(v[f]=s=it+o.call(a,a.__data__,f,n),s in h?u[f]=a:h[s]=a);for(f=0;f<l;++f)(a=h[s=it+o.call(t,e[f],f,e)])?(i[f]=a,a.__data__=e[f],h[s]=null):r[f]=new rt(t,e[f]);for(f=0;f<c;++f)(a=n[f])&&h[v[f]]===a&&(u[f]=a)}function ot(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ft(t){return function(){this.removeAttribute(t)}}function at(t){return function(){this.removeAttributeNS(t.space,t.local)}}function st(t,n){return function(){this.setAttribute(t,n)}}function ht(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function ct(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}}function lt(t,n){return function(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}}function vt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function wt(t){return function(){this.style.removeProperty(t)}}function dt(t,n,r){return function(){this.style.setProperty(t,n,r)}}function yt(t,n,r){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,r)}}function pt(t,n){return t.style.getPropertyValue(n)||vt(t).getComputedStyle(t,null).getPropertyValue(n)}function Mt(t){return function(){delete this[t]}}function gt(t,n){return function(){this[t]=n}}function mt(t,n){return function(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}}function bt(t){return t.trim().split(/^|\s+/)}function Nt(t){return t.classList||new kt(t)}function kt(t){this._node=t,this._names=bt(t.getAttribute("class")||"")}function At(t,n){for(var r=Nt(t),i=-1,u=n.length;++i<u;)r.add(n[i])}function xt(t,n){for(var r=Nt(t),i=-1,u=n.length;++i<u;)r.remove(n[i])}function Et(t){return function(){At(this,t)}}function St(t){return function(){xt(this,t)}}function Tt(t,n){return function(){(n.apply(this,arguments)?At:xt)(this,t)}}function qt(){this.textContent=""}function $t(t){return function(){this.textContent=t}}function _t(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Xt(){this.innerHTML=""}function jt(t){return function(){this.innerHTML=t}}function Rt(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function zt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ct(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dt(){return null}function Lt(){var t=this.parentNode;t&&t.removeChild(this)}function Pt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Yt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}kt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ht={},It=null;function Ot(t,n,r){return t=Zt(t,n,r),function(n){var r=n.relatedTarget;r&&(r===this||8&r.compareDocumentPosition(this))||t.call(this,n)}}function Zt(t,n,r){return function(i){var u=It;It=i;try{t.call(this,this.__data__,n,r)}finally{It=u}}}function Bt(t){return function(){var n=this.__on;if(n){for(var r,i=0,u=-1,e=n.length;i<e;++i)r=n[i],t.type&&r.type!==t.type||r.name!==t.name?n[++u]=r:this.removeEventListener(r.type,r.listener,r.capture);++u?n.length=u:delete this.__on}}}function Vt(t,n,r){var i=Ht.hasOwnProperty(t.type)?Ot:Zt;return function(u,e,o){var f,a=this.__on,s=i(n,e,o);if(a)for(var h=0,c=a.length;h<c;++h)if((f=a[h]).type===t.type&&f.name===t.name)return this.removeEventListener(f.type,f.listener,f.capture),this.addEventListener(f.type,f.listener=s,f.capture=r),void(f.value=n);this.addEventListener(t.type,s,r),f={type:t.type,name:t.name,value:n,listener:s,capture:r},a?a.push(f):this.__on=[f]}}function Ft(t,n,r){var i=vt(t),u=i.CustomEvent;"function"==typeof u?u=new u(n,r):(u=i.document.createEvent("Event"),r?(u.initEvent(n,r.bubbles,r.cancelable),u.detail=r.detail):u.initEvent(n,!1,!1)),t.dispatchEvent(u)}function Gt(t,n){return function(){return Ft(this,t,n)}}function Qt(t,n){return function(){return Ft(this,t,n.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ht={mouseenter:"mouseover",mouseleave:"mouseout"}));var Jt=[null];function Kt(t,n){this._groups=t,this._parents=n}function Ut(){return new Kt([[document.documentElement]],Jt)}function Wt(t){return"string"==typeof t?new Kt([[document.querySelector(t)]],[document.documentElement]):new Kt([[t]],Jt)}function tn(){for(var t,n=It;t=n.sourceEvent;)n=t;return n}function nn(t){var n=tn();return n.changedTouches&&(n=n.changedTouches[0]),function(t,n){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();return i.x=n.clientX,i.y=n.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var u=t.getBoundingClientRect();return[n.clientX-u.left-t.clientLeft,n.clientY-u.top-t.clientTop]}(t,n)}function rn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Kt.prototype=Ut.prototype={constructor:Kt,select:function(t){"function"!=typeof t&&(t=K(t));for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u)for(var e,o,f=n[u],a=f.length,s=i[u]=new Array(a),h=0;h<a;++h)(e=f[h])&&(o=t.call(e,e.__data__,h,f))&&("__data__"in e&&(o.__data__=e.__data__),s[h]=o);return new Kt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=W(t));for(var n=this._groups,r=n.length,i=[],u=[],e=0;e<r;++e)for(var o,f=n[e],a=f.length,s=0;s<a;++s)(o=f[s])&&(i.push(t.call(o,o.__data__,s,f)),u.push(o));return new Kt(i,u)},filter:function(t){"function"!=typeof t&&(t=tt(t));for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u)for(var e,o=n[u],f=o.length,a=i[u]=[],s=0;s<f;++s)(e=o[s])&&t.call(e,e.__data__,s,o)&&a.push(e);return new Kt(i,this._parents)},data:function(t,n){if(!t)return v=new Array(this.size()),s=-1,this.each((function(t){v[++s]=t})),v;var r=n?et:ut,i=this._parents,u=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var e=u.length,o=new Array(e),f=new Array(e),a=new Array(e),s=0;s<e;++s){var h=i[s],c=u[s],l=c.length,v=t.call(h,h&&h.__data__,s,i),w=v.length,d=f[s]=new Array(w),y=o[s]=new Array(w);r(h,c,d,y,a[s]=new Array(l),v,n);for(var p,M,g=0,m=0;g<w;++g)if(p=d[g]){for(g>=m&&(m=g+1);!(M=y[m])&&++m<w;);p._next=M||null}}return(o=new Kt(o,i))._enter=f,o._exit=a,o},enter:function(){return new Kt(this._enter||this._groups.map(nt),this._parents)},exit:function(){return new Kt(this._exit||this._groups.map(nt),this._parents)},join:function(t,n,r){var i=this.enter(),u=this,e=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=n&&(u=n(u)),null==r?e.remove():r(e),i&&u?i.merge(u).order():u},merge:function(t){for(var n=this._groups,r=t._groups,i=n.length,u=Math.min(i,r.length),e=new Array(i),o=0;o<u;++o)for(var f,a=n[o],s=r[o],h=a.length,c=e[o]=new Array(h),l=0;l<h;++l)(f=a[l]||s[l])&&(c[l]=f);for(;o<i;++o)e[o]=n[o];return new Kt(e,this._parents)},order:function(){for(var t=this._groups,n=-1,r=t.length;++n<r;)for(var i,u=t[n],e=u.length-1,o=u[e];--e>=0;)(i=u[e])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this},sort:function(t){function n(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}t||(t=ot);for(var r=this._groups,i=r.length,u=new Array(i),e=0;e<i;++e){for(var o,f=r[e],a=f.length,s=u[e]=new Array(a),h=0;h<a;++h)(o=f[h])&&(s[h]=o);s.sort(n)}return new Kt(u,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),n=-1;return this.each((function(){t[++n]=this})),t},node:function(){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],u=0,e=i.length;u<e;++u){var o=i[u];if(o)return o}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,r=0,i=n.length;r<i;++r)for(var u,e=n[r],o=0,f=e.length;o<f;++o)(u=e[o])&&t.call(u,u.__data__,o,e);return this},attr:function(t,n){var r=V(t);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==n?r.local?at:ft:"function"==typeof n?r.local?lt:ct:r.local?ht:st)(r,n))},style:function(t,n,r){return arguments.length>1?this.each((null==n?wt:"function"==typeof n?yt:dt)(t,n,null==r?"":r)):pt(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?Mt:"function"==typeof n?mt:gt)(t,n)):this.node()[t]},classed:function(t,n){var r=bt(t+"");if(arguments.length<2){for(var i=Nt(this.node()),u=-1,e=r.length;++u<e;)if(!i.contains(r[u]))return!1;return!0}return this.each(("function"==typeof n?Tt:n?Et:St)(r,n))},text:function(t){return arguments.length?this.each(null==t?qt:("function"==typeof t?_t:$t)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Xt:("function"==typeof t?Rt:jt)(t)):this.node().innerHTML},raise:function(){return this.each(zt)},lower:function(){return this.each(Ct)},append:function(t){var n="function"==typeof t?t:Q(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var r="function"==typeof t?t:Q(t),i=null==n?Dt:"function"==typeof n?n:K(n);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(Lt)},clone:function(t){return this.select(t?Yt:Pt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,r){var i,u,e=function(t){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}}))}(t+""),o=e.length;if(!(arguments.length<2)){for(f=n?Vt:Bt,null==r&&(r=!1),i=0;i<o;++i)this.each(f(e[i],n,r));return this}var f=this.node().__on;if(f)for(var a,s=0,h=f.length;s<h;++s)for(i=0,a=f[s];i<o;++i)if((u=e[i]).type===a.type&&u.name===a.name)return a.value},dispatch:function(t,n){return this.each(("function"==typeof n?Qt:Gt)(t,n))}};var un,en,on=(1===(un=rn).length&&(en=un,un=function(t,n){return rn(en(t),n)}),{left:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;un(t[u],n)<0?r=u+1:i=u}return r},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){var u=r+i>>>1;un(t[u],n)>0?i=u:r=u+1}return r}}).right,fn=Math.sqrt(50),an=Math.sqrt(10),sn=Math.sqrt(2);function hn(t,n,r){var i=(n-t)/Math.max(0,r),u=Math.floor(Math.log(i)/Math.LN10),e=i/Math.pow(10,u);return u>=0?(e>=fn?10:e>=an?5:e>=sn?2:1)*Math.pow(10,u):-Math.pow(10,-u)/(e>=fn?10:e>=an?5:e>=sn?2:1)}function cn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}const ln=Symbol("implicit");function vn(){var t=new Map,n=[],r=[],i=ln;function u(u){var e=u+"",o=t.get(e);if(!o){if(i!==ln)return i;t.set(e,o=n.push(u))}return r[(o-1)%r.length]}return u.domain=function(r){if(!arguments.length)return n.slice();n=[],t=new Map;for(const i of r){const r=i+"";t.has(r)||t.set(r,n.push(i))}return u},u.range=function(t){return arguments.length?(r=Array.from(t),u):r.slice()},u.unknown=function(t){return arguments.length?(i=t,u):i},u.copy=function(){return vn(n,r).unknown(i)},cn.apply(u,arguments),u}function wn(t,n,r){t.prototype=n.prototype=r,r.constructor=t}function dn(t,n){var r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r}function yn(){}var pn="\\s*([+-]?\\d+)\\s*",Mn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",gn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mn=/^#([0-9a-f]{3,8})$/,bn=new RegExp("^rgb\\("+[pn,pn,pn]+"\\)$"),Nn=new RegExp("^rgb\\("+[gn,gn,gn]+"\\)$"),kn=new RegExp("^rgba\\("+[pn,pn,pn,Mn]+"\\)$"),An=new RegExp("^rgba\\("+[gn,gn,gn,Mn]+"\\)$"),xn=new RegExp("^hsl\\("+[Mn,gn,gn]+"\\)$"),En=new RegExp("^hsla\\("+[Mn,gn,gn,Mn]+"\\)$"),Sn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Tn(){return this.rgb().formatHex()}function qn(){return this.rgb().formatRgb()}function $n(t){var n,r;return t=(t+"").trim().toLowerCase(),(n=mn.exec(t))?(r=n[1].length,n=parseInt(n[1],16),6===r?_n(n):3===r?new Rn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===r?new Rn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===r?new Rn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=bn.exec(t))?new Rn(n[1],n[2],n[3],1):(n=Nn.exec(t))?new Rn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=kn.exec(t))?Xn(n[1],n[2],n[3],n[4]):(n=An.exec(t))?Xn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=xn.exec(t))?Ln(n[1],n[2]/100,n[3]/100,1):(n=En.exec(t))?Ln(n[1],n[2]/100,n[3]/100,n[4]):Sn.hasOwnProperty(t)?_n(Sn[t]):"transparent"===t?new Rn(NaN,NaN,NaN,0):null}function _n(t){return new Rn(t>>16&255,t>>8&255,255&t,1)}function Xn(t,n,r,i){return i<=0&&(t=n=r=NaN),new Rn(t,n,r,i)}function jn(t,n,r,i){return 1===arguments.length?((u=t)instanceof yn||(u=$n(u)),u?new Rn((u=u.rgb()).r,u.g,u.b,u.opacity):new Rn):new Rn(t,n,r,null==i?1:i);var u}function Rn(t,n,r,i){this.r=+t,this.g=+n,this.b=+r,this.opacity=+i}function zn(){return"#"+Dn(this.r)+Dn(this.g)+Dn(this.b)}function Cn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Dn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ln(t,n,r,i){return i<=0?t=n=r=NaN:r<=0||r>=1?t=n=NaN:n<=0&&(t=NaN),new Yn(t,n,r,i)}function Pn(t){if(t instanceof Yn)return new Yn(t.h,t.s,t.l,t.opacity);if(t instanceof yn||(t=$n(t)),!t)return new Yn;if(t instanceof Yn)return t;var n=(t=t.rgb()).r/255,r=t.g/255,i=t.b/255,u=Math.min(n,r,i),e=Math.max(n,r,i),o=NaN,f=e-u,a=(e+u)/2;return f?(o=n===e?(r-i)/f+6*(r<i):r===e?(i-n)/f+2:(n-r)/f+4,f/=a<.5?e+u:2-e-u,o*=60):f=a>0&&a<1?0:o,new Yn(o,f,a,t.opacity)}function Yn(t,n,r,i){this.h=+t,this.s=+n,this.l=+r,this.opacity=+i}function Hn(t,n,r){return 255*(t<60?n+(r-n)*t/60:t<180?r:t<240?n+(r-n)*(240-t)/60:n)}function In(t){return function(){return t}}function On(t,n){var r=n-t;return r?function(t,n){return function(r){return t+r*n}}(t,r):In(isNaN(t)?n:t)}wn(yn,$n,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Tn,formatHex:Tn,formatHsl:function(){return Pn(this).formatHsl()},formatRgb:qn,toString:qn}),wn(Rn,jn,dn(yn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Rn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zn,formatHex:zn,formatRgb:Cn,toString:Cn})),wn(Yn,(function(t,n,r,i){return 1===arguments.length?Pn(t):new Yn(t,n,r,null==i?1:i)}),dn(yn,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Yn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Yn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*n,u=2*r-i;return new Rn(Hn(t>=240?t-240:t+120,u,i),Hn(t,u,i),Hn(t<120?t+240:t-120,u,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Zn=function t(n){var r=function(t){return 1==(t=+t)?On:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(i){return Math.pow(t+i*n,r)}}(n,r,t):In(isNaN(n)?r:n)}}(n);function i(t,n){var i=r((t=jn(t)).r,(n=jn(n)).r),u=r(t.g,n.g),e=r(t.b,n.b),o=On(t.opacity,n.opacity);return function(n){return t.r=i(n),t.g=u(n),t.b=e(n),t.opacity=o(n),t+""}}return i.gamma=t,i}(1);var Bn,Vn=(Bn=function(t){var n=t.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),u=t[i],e=t[i+1];return function(t,n,r,i,u){var e=t*t,o=e*t;return((1-3*t+3*e-o)*n+(4-6*e+3*o)*r+(1+3*t+3*e-3*o)*i+o*u)/6}((r-i/n)*n,i>0?t[i-1]:2*u-e,u,e,i<n-1?t[i+2]:2*e-u)}},function(t){var n,r,i=t.length,u=new Array(i),e=new Array(i),o=new Array(i);for(n=0;n<i;++n)r=jn(t[n]),u[n]=r.r||0,e[n]=r.g||0,o[n]=r.b||0;return u=Bn(u),e=Bn(e),o=Bn(o),r.opacity=1,function(t){return r.r=u(t),r.g=e(t),r.b=o(t),r+""}});function Fn(t,n){n||(n=[]);var r,i=t?Math.min(n.length,t.length):0,u=n.slice();return function(e){for(r=0;r<i;++r)u[r]=t[r]*(1-e)+n[r]*e;return u}}function Gn(t,n){var r,i=n?n.length:0,u=t?Math.min(i,t.length):0,e=new Array(u),o=new Array(i);for(r=0;r<u;++r)e[r]=nr(t[r],n[r]);for(;r<i;++r)o[r]=n[r];return function(t){for(r=0;r<u;++r)o[r]=e[r](t);return o}}function Qn(t,n){var r=new Date;return t=+t,n=+n,function(i){return r.setTime(t*(1-i)+n*i),r}}function Jn(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function Kn(t,n){var r,i={},u={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?i[r]=nr(t[r],n[r]):u[r]=n[r];return function(t){for(r in i)u[r]=i[r](t);return u}}var Un=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Wn=new RegExp(Un.source,"g");function tr(t,n){var r,i,u,e=Un.lastIndex=Wn.lastIndex=0,o=-1,f=[],a=[];for(t+="",n+="";(r=Un.exec(t))&&(i=Wn.exec(n));)(u=i.index)>e&&(u=n.slice(e,u),f[o]?f[o]+=u:f[++o]=u),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,a.push({i:o,x:Jn(r,i)})),e=Wn.lastIndex;return e<n.length&&(u=n.slice(e),f[o]?f[o]+=u:f[++o]=u),f.length<2?a[0]?function(t){return function(n){return t(n)+""}}(a[0].x):function(t){return function(){return t}}(n):(n=a.length,function(t){for(var r,i=0;i<n;++i)f[(r=a[i]).i]=r.x(t);return f.join("")})}function nr(t,n){var r,i=typeof n;return null==n||"boolean"===i?In(n):("number"===i?Jn:"string"===i?(r=$n(n))?(n=r,Zn):tr:n instanceof $n?Zn:n instanceof Date?Qn:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(n)?Fn:Array.isArray(n)?Gn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?Kn:Jn)(t,n)}function rr(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}}var ir,ur,er,or,fr=180/Math.PI,ar={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sr(t,n,r,i,u,e){var o,f,a;return(o=Math.sqrt(t*t+n*n))&&(t/=o,n/=o),(a=t*r+n*i)&&(r-=t*a,i-=n*a),(f=Math.sqrt(r*r+i*i))&&(r/=f,i/=f,a/=f),t*i<n*r&&(t=-t,n=-n,a=-a,o=-o),{translateX:u,translateY:e,rotate:Math.atan2(n,t)*fr,skewX:Math.atan(a)*fr,scaleX:o,scaleY:f}}function hr(t,n,r,i){function u(t){return t.length?t.pop()+" ":""}return function(e,o){var f=[],a=[];return e=t(e),o=t(o),function(t,i,u,e,o,f){if(t!==u||i!==e){var a=o.push("translate(",null,n,null,r);f.push({i:a-4,x:Jn(t,u)},{i:a-2,x:Jn(i,e)})}else(u||e)&&o.push("translate("+u+n+e+r)}(e.translateX,e.translateY,o.translateX,o.translateY,f,a),function(t,n,r,e){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),e.push({i:r.push(u(r)+"rotate(",null,i)-2,x:Jn(t,n)})):n&&r.push(u(r)+"rotate("+n+i)}(e.rotate,o.rotate,f,a),function(t,n,r,e){t!==n?e.push({i:r.push(u(r)+"skewX(",null,i)-2,x:Jn(t,n)}):n&&r.push(u(r)+"skewX("+n+i)}(e.skewX,o.skewX,f,a),function(t,n,r,i,e,o){if(t!==r||n!==i){var f=e.push(u(e)+"scale(",null,",",null,")");o.push({i:f-4,x:Jn(t,r)},{i:f-2,x:Jn(n,i)})}else 1===r&&1===i||e.push(u(e)+"scale("+r+","+i+")")}(e.scaleX,e.scaleY,o.scaleX,o.scaleY,f,a),e=o=null,function(t){for(var n,r=-1,i=a.length;++r<i;)f[(n=a[r]).i]=n.x(t);return f.join("")}}}var cr=hr((function(t){return"none"===t?ar:(ir||(ir=document.createElement("DIV"),ur=document.documentElement,er=document.defaultView),ir.style.transform=t,t=er.getComputedStyle(ur.appendChild(ir),null).getPropertyValue("transform"),ur.removeChild(ir),sr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),lr=hr((function(t){return null==t?ar:(or||(or=document.createElementNS("http://www.w3.org/2000/svg","g")),or.setAttribute("transform",t),(t=or.transform.baseVal.consolidate())?sr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):ar)}),", ",")",")");function vr(t,n){for(var r=new Array(n),i=0;i<n;++i)r[i]=t(i/(n-1));return r}function wr(t){return+t}var dr=[0,1];function yr(t){return t}function pr(t,n){return(n-=t=+t)?function(r){return(r-t)/n}:function(t){return function(){return t}}(isNaN(n)?NaN:.5)}function Mr(t){var n,r=t[0],i=t[t.length-1];return r>i&&(n=r,r=i,i=n),function(t){return Math.max(r,Math.min(i,t))}}function gr(t,n,r){var i=t[0],u=t[1],e=n[0],o=n[1];return u<i?(i=pr(u,i),e=r(o,e)):(i=pr(i,u),e=r(e,o)),function(t){return e(i(t))}}function mr(t,n,r){var i=Math.min(t.length,n.length)-1,u=new Array(i),e=new Array(i),o=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<i;)u[o]=pr(t[o],t[o+1]),e[o]=r(n[o],n[o+1]);return function(n){var r=on(t,n,1,i)-1;return e[r](u[r](n))}}function br(t,n){if((r=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var r,i=t.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+t.slice(r+1)]}function Nr(t){return(t=br(Math.abs(t)))?t[1]:NaN}var kr,Ar=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xr(t){if(!(n=Ar.exec(t)))throw new Error("invalid format: "+t);var n;return new Er({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Er(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Sr(t,n){var r=br(t,n);if(!r)return t+"";var i=r[0],u=r[1];return u<0?"0."+new Array(-u).join("0")+i:i.length>u+1?i.slice(0,u+1)+"."+i.slice(u+1):i+new Array(u-i.length+2).join("0")}xr.prototype=Er.prototype,Er.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Tr={"%":function(t,n){return(100*t).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Sr(100*t,n)},r:Sr,s:function(t,n){var r=br(t,n);if(!r)return t+"";var i=r[0],u=r[1],e=u-(kr=3*Math.max(-8,Math.min(8,Math.floor(u/3))))+1,o=i.length;return e===o?i:e>o?i+new Array(e-o+1).join("0"):e>0?i.slice(0,e)+"."+i.slice(e):"0."+new Array(1-e).join("0")+br(t,Math.max(0,n+e-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function qr(t){return t}var $r,_r,Xr,jr=Array.prototype.map,Rr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function zr(t){var n=t.domain;return t.ticks=function(t){var r=n();return function(t,n,r){var i,u,e,o,f=-1;if(r=+r,(t=+t)==(n=+n)&&r>0)return[t];if((i=n<t)&&(u=t,t=n,n=u),0===(o=hn(t,n,r))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),n=Math.floor(n/o),e=new Array(u=Math.ceil(n-t+1));++f<u;)e[f]=(t+f)*o;else for(t=Math.floor(t*o),n=Math.ceil(n*o),e=new Array(u=Math.ceil(t-n+1));++f<u;)e[f]=(t-f)/o;return i&&e.reverse(),e}(r[0],r[r.length-1],null==t?10:t)},t.tickFormat=function(t,r){var i=n();return function(t,n,r,i){var u,e=function(t,n,r){var i=Math.abs(n-t)/Math.max(0,r),u=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),e=i/u;return e>=fn?u*=10:e>=an?u*=5:e>=sn&&(u*=2),n<t?-u:u}(t,n,r);switch((i=xr(null==i?",f":i)).type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=i.precision||isNaN(u=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Nr(n)/3)))-Nr(Math.abs(t)))}(e,o))||(i.precision=u),Xr(i,o);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(u=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Nr(n)-Nr(t))+1}(e,Math.max(Math.abs(t),Math.abs(n))))||(i.precision=u-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(u=function(t){return Math.max(0,-Nr(Math.abs(t)))}(e))||(i.precision=u-2*("%"===i.type))}return _r(i)}(i[0],i[i.length-1],null==t?10:t,r)},t.nice=function(r){null==r&&(r=10);var i,u=n(),e=0,o=u.length-1,f=u[e],a=u[o];return a<f&&(i=f,f=a,a=i,i=e,e=o,o=i),(i=hn(f,a,r))>0?i=hn(f=Math.floor(f/i)*i,a=Math.ceil(a/i)*i,r):i<0&&(i=hn(f=Math.ceil(f*i)/i,a=Math.floor(a*i)/i,r)),i>0?(u[e]=Math.floor(f/i)*i,u[o]=Math.ceil(a/i)*i,n(u)):i<0&&(u[e]=Math.ceil(f*i)/i,u[o]=Math.floor(a*i)/i,n(u)),t},t}function Cr(){var t,n,r=(t=yr,n=yr,function(){var t,n,r,i,u,e,o=dr,f=dr,a=nr,s=yr;function h(){return i=Math.min(o.length,f.length)>2?mr:gr,u=e=null,c}function c(n){return isNaN(n=+n)?r:(u||(u=i(o.map(t),f,a)))(t(s(n)))}return c.invert=function(r){return s(n((e||(e=i(f,o.map(t),Jn)))(r)))},c.domain=function(t){return arguments.length?(o=Array.from(t,wr),s===yr||(s=Mr(o)),h()):o.slice()},c.range=function(t){return arguments.length?(f=Array.from(t),h()):f.slice()},c.rangeRound=function(t){return f=Array.from(t),a=rr,h()},c.clamp=function(t){return arguments.length?(s=t?Mr(o):yr,c):s!==yr},c.interpolate=function(t){return arguments.length?(a=t,h()):a},c.unknown=function(t){return arguments.length?(r=t,c):r},function(r,i){return t=r,n=i,h()}}()(t,n));return r.copy=function(){return t=r,Cr().domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown());var t},cn.apply(r,arguments),zr(r)}function Dr(t){return+t}$r=function(t){var n,r,i=void 0===t.grouping||void 0===t.thousands?qr:(n=jr.call(t.grouping,Number),r=t.thousands+"",function(t,i){for(var u=t.length,e=[],o=0,f=n[0],a=0;u>0&&f>0&&(a+f+1>i&&(f=Math.max(1,i-a)),e.push(t.substring(u-=f,u+f)),!((a+=f+1)>i));)f=n[o=(o+1)%n.length];return e.reverse().join(r)}),u=void 0===t.currency?"":t.currency[0]+"",e=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",f=void 0===t.numerals?qr:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(jr.call(t.numerals,String)),a=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"-":t.minus+"",h=void 0===t.nan?"NaN":t.nan+"";function c(t){var n=(t=xr(t)).fill,r=t.align,c=t.sign,l=t.symbol,v=t.zero,w=t.width,d=t.comma,y=t.precision,p=t.trim,M=t.type;"n"===M?(d=!0,M="g"):Tr[M]||(void 0===y&&(y=12),p=!0,M="g"),(v||"0"===n&&"="===r)&&(v=!0,n="0",r="=");var g="$"===l?u:"#"===l&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",m="$"===l?e:/[%p]/.test(M)?a:"",b=Tr[M],N=/[defgprs%]/.test(M);function k(t){var u,e,a,l=g,k=m;if("c"===M)k=b(t)+k,t="";else{var A=(t=+t)<0;if(t=isNaN(t)?h:b(Math.abs(t),y),p&&(t=function(t){t:for(var n,r=t.length,i=1,u=-1;i<r;++i)switch(t[i]){case".":u=n=i;break;case"0":0===u&&(u=i),n=i;break;default:if(u>0){if(!+t[i])break t;u=0}}return u>0?t.slice(0,u)+t.slice(n+1):t}(t)),A&&0==+t&&(A=!1),l=(A?"("===c?c:s:"-"===c||"("===c?"":c)+l,k=("s"===M?Rr[8+kr/3]:"")+k+(A&&"("===c?")":""),N)for(u=-1,e=t.length;++u<e;)if(48>(a=t.charCodeAt(u))||a>57){k=(46===a?o+t.slice(u+1):t.slice(u))+k,t=t.slice(0,u);break}}d&&!v&&(t=i(t,1/0));var x=l.length+t.length+k.length,E=x<w?new Array(w-x+1).join(n):"";switch(d&&v&&(t=i(E+t,E.length?w-k.length:1/0),E=""),r){case"<":t=l+t+k+E;break;case"=":t=l+E+t+k;break;case"^":t=E.slice(0,x=E.length>>1)+l+t+k+E.slice(x);break;default:t=E+l+t+k}return f(t)}return y=void 0===y?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:c,formatPrefix:function(t,n){var r=c(((t=xr(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Nr(n)/3))),u=Math.pow(10,-i),e=Rr[8+i/3];return function(t){return r(u*t)+e}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),_r=$r.format,Xr=$r.formatPrefix;var Lr={value:function(){}};function Pr(){for(var t,n=0,r=arguments.length,i={};n<r;++n){if(!(t=arguments[n]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new Yr(i)}function Yr(t){this._=t}function Hr(t,n){return t.trim().split(/^|\s+/).map((function(t){var r="",i=t.indexOf(".");if(i>=0&&(r=t.slice(i+1),t=t.slice(0,i)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}}))}function Ir(t,n){for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).name===n)return r.value}function Or(t,n,r){for(var i=0,u=t.length;i<u;++i)if(t[i].name===n){t[i]=Lr,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:n,value:r}),t}Yr.prototype=Pr.prototype={constructor:Yr,on:function(t,n){var r,i=this._,u=Hr(t+"",i),e=-1,o=u.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++e<o;)if(r=(t=u[e]).type)i[r]=Or(i[r],t.name,n);else if(null==n)for(r in i)i[r]=Or(i[r],t.name,null);return this}for(;++e<o;)if((r=(t=u[e]).type)&&(r=Ir(i[r],t.name)))return r},copy:function(){var t={},n=this._;for(var r in n)t[r]=n[r].slice();return new Yr(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,i,u=new Array(r),e=0;e<r;++e)u[e]=arguments[e+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(e=0,r=(i=this._[t]).length;e<r;++e)i[e].value.apply(n,u)},apply:function(t,n,r){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],u=0,e=i.length;u<e;++u)i[u].value.apply(n,r)}};var Zr,Br,Vr=0,Fr=0,Gr=0,Qr=1e3,Jr=0,Kr=0,Ur=0,Wr="object"==typeof performance&&performance.now?performance:Date,ti="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function ni(){return Kr||(ti(ri),Kr=Wr.now()+Ur)}function ri(){Kr=0}function ii(){this._call=this._time=this._next=null}function ui(t,n,r){var i=new ii;return i.restart(t,n,r),i}function ei(){Kr=(Jr=Wr.now())+Ur,Vr=Fr=0;try{!function(){ni(),++Vr;for(var t,n=Zr;n;)(t=Kr-n._time)>=0&&n._call.call(null,t),n=n._next;--Vr}()}finally{Vr=0,function(){for(var t,n,r=Zr,i=1/0;r;)r._call?(i>r._time&&(i=r._time),t=r,r=r._next):(n=r._next,r._next=null,r=t?t._next=n:Zr=n);Br=t,fi(i)}(),Kr=0}}function oi(){var t=Wr.now(),n=t-Jr;n>Qr&&(Ur-=n,Jr=t)}function fi(t){Vr||(Fr&&(Fr=clearTimeout(Fr)),t-Kr>24?(t<1/0&&(Fr=setTimeout(ei,t-Wr.now()-Ur)),Gr&&(Gr=clearInterval(Gr))):(Gr||(Jr=Wr.now(),Gr=setInterval(oi,Qr)),Vr=1,ti(ei)))}function ai(t,n,r){var i=new ii;return i.restart((function(r){i.stop(),t(r+n)}),n=null==n?0:+n,r),i}ii.prototype=ui.prototype={constructor:ii,restart:function(t,n,r){if("function"!=typeof t)throw new TypeError("callback is not a function");r=(null==r?ni():+r)+(null==n?0:+n),this._next||Br===this||(Br?Br._next=this:Zr=this,Br=this),this._call=t,this._time=r,fi()},stop:function(){this._call&&(this._call=null,this._time=1/0,fi())}};var si=Pr("start","end","cancel","interrupt"),hi=[],ci=0,li=1,vi=2,wi=3,di=4,yi=5,pi=6;function Mi(t,n,r,i,u,e){var o=t.__transition;if(o){if(r in o)return}else t.__transition={};!function(t,n,r){var i,u=t.__transition;function e(a){var s,h,c,l;if(r.state!==li)return f();for(s in u)if((l=u[s]).name===r.name){if(l.state===wi)return ai(e);l.state===di?(l.state=pi,l.timer.stop(),l.on.call("interrupt",t,t.__data__,l.index,l.group),delete u[s]):+s<n&&(l.state=pi,l.timer.stop(),l.on.call("cancel",t,t.__data__,l.index,l.group),delete u[s])}if(ai((function(){r.state===wi&&(r.state=di,r.timer.restart(o,r.delay,r.time),o(a))})),r.state=vi,r.on.call("start",t,t.__data__,r.index,r.group),r.state===vi){for(r.state=wi,i=new Array(c=r.tween.length),s=0,h=-1;s<c;++s)(l=r.tween[s].value.call(t,t.__data__,r.index,r.group))&&(i[++h]=l);i.length=h+1}}function o(n){for(var u=n<r.duration?r.ease.call(null,n/r.duration):(r.timer.restart(f),r.state=yi,1),e=-1,o=i.length;++e<o;)i[e].call(t,u);r.state===yi&&(r.on.call("end",t,t.__data__,r.index,r.group),f())}function f(){for(var i in r.state=pi,r.timer.stop(),delete u[n],u)return;delete t.__transition}u[n]=r,r.timer=ui((function(t){r.state=li,r.timer.restart(e,r.delay,r.time),r.delay<=t&&e(t-r.delay)}),0,r.time)}(t,r,{name:n,index:i,group:u,on:si,tween:hi,time:e.time,delay:e.delay,duration:e.duration,ease:e.ease,timer:null,state:ci})}function gi(t,n){var r=bi(t,n);if(r.state>ci)throw new Error("too late; already scheduled");return r}function mi(t,n){var r=bi(t,n);if(r.state>wi)throw new Error("too late; already running");return r}function bi(t,n){var r=t.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function Ni(t,n){var r,i;return function(){var u=mi(this,t),e=u.tween;if(e!==r)for(var o=0,f=(i=r=e).length;o<f;++o)if(i[o].name===n){(i=i.slice()).splice(o,1);break}u.tween=i}}function ki(t,n,r){var i,u;if("function"!=typeof r)throw new Error;return function(){var e=mi(this,t),o=e.tween;if(o!==i){u=(i=o).slice();for(var f={name:n,value:r},a=0,s=u.length;a<s;++a)if(u[a].name===n){u[a]=f;break}a===s&&u.push(f)}e.tween=u}}function Ai(t,n,r){var i=t._id;return t.each((function(){var t=mi(this,i);(t.value||(t.value={}))[n]=r.apply(this,arguments)})),function(t){return bi(t,i).value[n]}}function xi(t,n){var r;return("number"==typeof n?Jn:n instanceof $n?Zn:(r=$n(n))?(n=r,Zn):tr)(t,n)}function Ei(t){return function(){this.removeAttribute(t)}}function Si(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ti(t,n,r){var i,u,e=r+"";return function(){var o=this.getAttribute(t);return o===e?null:o===i?u:u=n(i=o,r)}}function qi(t,n,r){var i,u,e=r+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===e?null:o===i?u:u=n(i=o,r)}}function $i(t,n,r){var i,u,e;return function(){var o,f,a=r(this);if(null!=a)return(o=this.getAttribute(t))===(f=a+"")?null:o===i&&f===u?e:(u=f,e=n(i=o,a));this.removeAttribute(t)}}function _i(t,n,r){var i,u,e;return function(){var o,f,a=r(this);if(null!=a)return(o=this.getAttributeNS(t.space,t.local))===(f=a+"")?null:o===i&&f===u?e:(u=f,e=n(i=o,a));this.removeAttributeNS(t.space,t.local)}}function Xi(t,n){var r,i;function u(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&function(t,n){return function(r){this.setAttributeNS(t.space,t.local,n(r))}}(t,u)),r}return u._value=n,u}function ji(t,n){var r,i;function u(){var u=n.apply(this,arguments);return u!==i&&(r=(i=u)&&function(t,n){return function(r){this.setAttribute(t,n(r))}}(t,u)),r}return u._value=n,u}function Ri(t,n){return function(){gi(this,t).delay=+n.apply(this,arguments)}}function zi(t,n){return n=+n,function(){gi(this,t).delay=n}}function Ci(t,n){return function(){mi(this,t).duration=+n.apply(this,arguments)}}function Di(t,n){return n=+n,function(){mi(this,t).duration=n}}var Li=Ut.prototype.constructor;function Pi(t){return function(){this.style.removeProperty(t)}}var Yi=0;function Hi(t,n,r,i){this._groups=t,this._parents=n,this._name=r,this._id=i}function Ii(){return++Yi}var Oi=Ut.prototype;Hi.prototype=function(t){return Ut().transition(t)}.prototype={constructor:Hi,select:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=K(t));for(var i=this._groups,u=i.length,e=new Array(u),o=0;o<u;++o)for(var f,a,s=i[o],h=s.length,c=e[o]=new Array(h),l=0;l<h;++l)(f=s[l])&&(a=t.call(f,f.__data__,l,s))&&("__data__"in f&&(a.__data__=f.__data__),c[l]=a,Mi(c[l],n,r,l,c,bi(f,r)));return new Hi(e,this._parents,n,r)},selectAll:function(t){var n=this._name,r=this._id;"function"!=typeof t&&(t=W(t));for(var i=this._groups,u=i.length,e=[],o=[],f=0;f<u;++f)for(var a,s=i[f],h=s.length,c=0;c<h;++c)if(a=s[c]){for(var l,v=t.call(a,a.__data__,c,s),w=bi(a,r),d=0,y=v.length;d<y;++d)(l=v[d])&&Mi(l,n,r,d,v,w);e.push(v),o.push(a)}return new Hi(e,o,n,r)},filter:function(t){"function"!=typeof t&&(t=tt(t));for(var n=this._groups,r=n.length,i=new Array(r),u=0;u<r;++u)for(var e,o=n[u],f=o.length,a=i[u]=[],s=0;s<f;++s)(e=o[s])&&t.call(e,e.__data__,s,o)&&a.push(e);return new Hi(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,r=t._groups,i=n.length,u=Math.min(i,r.length),e=new Array(i),o=0;o<u;++o)for(var f,a=n[o],s=r[o],h=a.length,c=e[o]=new Array(h),l=0;l<h;++l)(f=a[l]||s[l])&&(c[l]=f);for(;o<i;++o)e[o]=n[o];return new Hi(e,this._parents,this._name,this._id)},selection:function(){return new Li(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,r=Ii(),i=this._groups,u=i.length,e=0;e<u;++e)for(var o,f=i[e],a=f.length,s=0;s<a;++s)if(o=f[s]){var h=bi(o,n);Mi(o,t,r,s,f,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Hi(i,this._parents,t,r)},call:Oi.call,nodes:Oi.nodes,node:Oi.node,size:Oi.size,empty:Oi.empty,each:Oi.each,on:function(t,n){var r=this._id;return arguments.length<2?bi(this.node(),r).on.on(t):this.each(function(t,n,r){var i,u,e=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?gi:mi;return function(){var o=e(this,t),f=o.on;f!==i&&(u=(i=f).copy()).on(n,r),o.on=u}}(r,t,n))},attr:function(t,n){var r=V(t),i="transform"===r?lr:xi;return this.attrTween(t,"function"==typeof n?(r.local?_i:$i)(r,i,Ai(this,"attr."+t,n)):null==n?(r.local?Si:Ei)(r):(r.local?qi:Ti)(r,i,n))},attrTween:function(t,n){var r="attr."+t;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;var i=V(t);return this.tween(r,(i.local?Xi:ji)(i,n))},style:function(t,n,r){var i="transform"==(t+="")?cr:xi;return null==n?this.styleTween(t,function(t,n){var r,i,u;return function(){var e=pt(this,t),o=(this.style.removeProperty(t),pt(this,t));return e===o?null:e===r&&o===i?u:u=n(r=e,i=o)}}(t,i)).on("end.style."+t,Pi(t)):"function"==typeof n?this.styleTween(t,function(t,n,r){var i,u,e;return function(){var o=pt(this,t),f=r(this),a=f+"";return null==f&&(this.style.removeProperty(t),a=f=pt(this,t)),o===a?null:o===i&&a===u?e:(u=a,e=n(i=o,f))}}(t,i,Ai(this,"style."+t,n))).each(function(t,n){var r,i,u,e,o="style."+n,f="end."+o;return function(){var a=mi(this,t),s=a.on,h=null==a.value[o]?e||(e=Pi(n)):void 0;s===r&&u===h||(i=(r=s).copy()).on(f,u=h),a.on=i}}(this._id,t)):this.styleTween(t,function(t,n,r){var i,u,e=r+"";return function(){var o=pt(this,t);return o===e?null:o===i?u:u=n(i=o,r)}}(t,i,n),r).on("end.style."+t,null)},styleTween:function(t,n,r){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function(t,n,r){var i,u;function e(){var e=n.apply(this,arguments);return e!==u&&(i=(u=e)&&function(t,n,r){return function(i){this.style.setProperty(t,n(i),r)}}(t,e,r)),i}return e._value=n,e}(t,n,null==r?"":r))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Ai(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var r=this._id;if(t+="",arguments.length<2){for(var i,u=bi(this.node(),r).tween,e=0,o=u.length;e<o;++e)if((i=u[e]).name===t)return i.value;return null}return this.each((null==n?Ni:ki)(r,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ri:zi)(n,t)):bi(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Ci:Di)(n,t)):bi(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){mi(this,t).ease=n}}(n,t)):bi(this.node(),n).ease},end:function(){var t,n,r=this,i=r._id,u=r.size();return new Promise((function(e,o){var f={value:o},a={value:function(){0==--u&&e()}};r.each((function(){var r=mi(this,i),u=r.on;u!==t&&((n=(t=u).copy())._.cancel.push(f),n._.interrupt.push(f),n._.end.push(a)),r.on=n}))}))}};var Zi={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Bi(t,n){for(var r;!(r=t.__transition)||!(r=r[n]);)if(!(t=t.parentNode))return Zi.time=ni(),Zi;return r}Ut.prototype.interrupt=function(t){return this.each((function(){!function(t,n){var r,i,u,e=t.__transition,o=!0;if(e){for(u in n=null==n?null:n+"",e)(r=e[u]).name===n?(i=r.state>vi&&r.state<yi,r.state=pi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[u]):o=!1;o&&delete t.__transition}}(this,t)}))},Ut.prototype.transition=function(t){var n,r;t instanceof Hi?(n=t._id,t=t._name):(n=Ii(),(r=Zi).time=ni(),t=null==t?null:t+"");for(var i=this._groups,u=i.length,e=0;e<u;++e)for(var o,f=i[e],a=f.length,s=0;s<a;++s)(o=f[s])&&Mi(o,t,n,s,f,r||Bi(o,n));return new Hi(i,this._parents,t,n)};export{A as a,Dr as b,q as c,O as d,E as e,H as f,nr as i,Cr as l,nn as m,vn as o,X as p,vr as q,Vn as r,Wt as s};