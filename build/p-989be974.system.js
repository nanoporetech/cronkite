var __awaiter=this&&this.__awaiter||function(e,r,t,n){function i(e){return e instanceof t?e:new t((function(r){r(e)}))}return new(t||(t=Promise))((function(t,a){function u(e){try{s(n.next(e))}catch(r){a(r)}}function o(e){try{s(n["throw"](e))}catch(r){a(r)}}function s(e){e.done?t(e.value):i(e.value).then(u,o)}s((n=n.apply(e,r||[])).next())}))};var __generator=this&&this.__generator||function(e,r){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,u;return u={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(u[Symbol.iterator]=function(){return this}),u;function o(e){return function(r){return s([e,r])}}function s(u){if(n)throw new TypeError("Generator is already executing.");while(t)try{if(n=1,i&&(a=u[0]&2?i["return"]:u[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;if(i=0,a)u=[u[0]&2,a.value];switch(u[0]){case 0:case 1:a=u;break;case 4:t.label++;return{value:u[1],done:false};case 5:t.label++;i=u[1];u=[0];continue;case 7:u=t.ops.pop();t.trys.pop();continue;default:if(!(a=t.trys,a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){t.label=u[1];break}if(u[0]===6&&t.label<a[1]){t.label=a[1];a=u;break}if(a&&t.label<a[2]){t.label=a[2];t.ops.push(u);break}if(a[2])t.ops.pop();t.trys.pop();continue}u=r.call(e,t)}catch(o){u=[6,o];i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;for(var n=Array(e),i=0,r=0;r<t;r++)for(var a=arguments[r],u=0,o=a.length;u<o;u++,i++)n[i]=a[u];return n};System.register(["./p-072a5a67.system.js"],(function(e){"use strict";var r,t;return{setters:[function(e){r=e.c;t=e.a}],execute:function(){var n=this;var i=r((function(e,r){(function(r,t){{e.exports=t()}})(t,(function(){var e={precision:2,roundMode:"up",scale:"SI",unit:"",recursive:0};var r=Object.keys(e);var t={SI:o({y:1e-24,z:1e-21,a:1e-18,f:1e-15,p:1e-12,n:1e-9,"µ":1e-6,m:.001,"":1,k:1e3,M:1e6,G:1e9,T:1e12,P:1e15,E:1e18,Z:1e21,Y:1e24},1),time:o({ns:1e-9,ms:.001,s:1,m:60,h:3600,d:86400},1),IEEE1541:o({"":1,Ki:1e3,Mi:1e6,Gi:1e9,Ti:1e12,Pi:1e15,Ei:1e18,Zi:1e21,Yi:1e24},0)};function n(t){var n;var i;t=t||{};for(n=0,i=r.length;n<i;++n){if(!(r[n]in t)){t[r[n]]=e[r[n]]}}return t}function i(e){return e.replace(/([.*+?=^!:${}()|[\]\/\\])/g,"\\$1")}function a(e,r,t){var n=t|0;if(r){n=-n;t=-t}if(e==="even"){if(!r&&n>t||n&1){t=n+1}else{t=n}}else if(e==="odd"){if(!r&&n>t||n&1){t=n}else{t=n+1}}else if(e==="up"){t=Math.ceil(t)}else if(e==="down"){t=Math.floor(t)}else{t=Math.round(t)}return r?Math.abs(t):t}function u(e,r){var t=e|0;if(t!==e&&Math.max(r,0)){return Number(e).toFixed(r)}else{return String(e)}}function o(e,r){var t=[];var n={};var a;var u;var o=Number.MAX_VALUE;var s=[];r=r||0;Object.keys(e).forEach((function(a){var c=a;var f=e[a];t.push([c,f]);n[c]=f;s.push(i(c));if(Math.abs(r-f)<Math.abs(r-o)){u=c;o=f}}));t.sort((function(e,r){return e[1]-r[1]}));s=s.sort((function(e,r){return r.length-e.length})).join("|");a=new RegExp("^\\s*((?:-)?\\d+(?:\\.\\d+)?)\\s*("+s+").*?$","i");return{list:t,map:n,re:a,base:u}}function s(e,r){var t=0;var n=e.length-1;var i,a;while(t!==n){i=t+n+1>>1;a=e[i][1];if(a>r){n=i-1}else{t=i}}return e[t]}function c(e,r){var i;var o;var f;var l;var h;var p;r=n(r);h=Number(e);o=t[r.scale];if(!h){return"0"+o.base+r.unit}i=h<0;h=Math.abs(h);f=s(o.list,h);l=+("1e"+Math.max(r.precision,0));h=a(r.roundMode,i,h*l/f[1])/l;if(r.recursive){--r.recursive;h=h|0;p=Math.abs(e)-h*f[1];h=String(h)}else{h=u(h,r.precision)}if(i){if(h!=="0"){h="-"+h}p=-p}h=h+f[0]+r.unit;if(p&&f!==o.list[0]){p=c(p,r);if(Array.isArray(p)){h=[h].concat(p)}else{h=[h,p]}}return h}function f(e,r){var i;var a;if(Array.isArray(e)){return e.reduce((function(e,t){return e+f(t,r)}),0)}r=n(r);i=t[r.scale];a=String(e).match(i.re);if(a){if(!a[2]){a[2]=i.base}e=a[1]*i.map[a[2]]}else{e=NaN}return e}function l(e,r,n){t[e]=o(r,n);c.scales[e]=e}t["IEEE-1541"]=t.IEEE1541;Object.defineProperties(c,{options:{configurable:false,enumerable:true,writable:false,value:{default:e}},scales:{configurable:false,enumerable:true,writable:false,value:Object.keys(t).reduce((function(e,r){e[r]=r;return e}),{})},defineScale:{configurable:false,enumerable:true,writable:false,value:l},parse:{configurable:false,enumerable:true,writable:false,value:f}});return c}))}));function a(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(r)n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}));t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};if(r%2){u(Object(t),true).forEach((function(r){a(e,r,t[r])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))}else{u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}}return e}function s(e,r){e.prototype=Object.create(r.prototype);e.prototype.constructor=e;e.__proto__=r}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function e(r){return r.__proto__||Object.getPrototypeOf(r)};return c(e)}function f(e,r){f=Object.setPrototypeOf||function e(r,t){r.__proto__=t;return r};return f(e,r)}function l(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return true}catch(e){return false}}function h(e,r,t){if(l()){h=Reflect.construct}else{h=function e(r,t,n){var i=[null];i.push.apply(i,t);var a=Function.bind.apply(r,i);var u=new a;if(n)f(u,n.prototype);return u}}return h.apply(null,arguments)}function p(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function v(e){var r=typeof Map==="function"?new Map:undefined;v=function e(t){if(t===null||!p(t))return t;if(typeof t!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof r!=="undefined"){if(r.has(t))return r.get(t);r.set(t,n)}function n(){return h(t,arguments,c(this).constructor)}n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return f(n,t)};return v(e)}function y(e,r){if(e==null)return{};var t={};var n=Object.keys(e);var i,a;for(a=0;a<n.length;a++){i=n[a];if(r.indexOf(i)>=0)continue;t[i]=e[i]}return t}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}var _=Object.prototype.toString;var g=function e(r){if(r===void 0)return"undefined";if(r===null)return"null";var t=typeof r;if(t==="boolean")return"boolean";if(t==="string")return"string";if(t==="number")return"number";if(t==="symbol")return"symbol";if(t==="function"){return x(r)?"generatorfunction":"function"}if(m(r))return"array";if(E(r))return"buffer";if(S(r))return"arguments";if(w(r))return"date";if(k(r))return"error";if(j(r))return"regexp";switch(b(r)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(O(r)){return"generator"}t=_.call(r);switch(t){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")};function b(e){return e.constructor?e.constructor.name:null}function m(e){if(Array.isArray)return Array.isArray(e);return e instanceof Array}function k(e){return e instanceof Error||typeof e.message==="string"&&e.constructor&&typeof e.constructor.stackTraceLimit==="number"}function w(e){if(e instanceof Date)return true;return typeof e.toDateString==="function"&&typeof e.getDate==="function"&&typeof e.setDate==="function"}function j(e){if(e instanceof RegExp)return true;return typeof e.flags==="string"&&typeof e.ignoreCase==="boolean"&&typeof e.multiline==="boolean"&&typeof e.global==="boolean"}function x(e,r){return b(e)==="GeneratorFunction"}function O(e){return typeof e.throw==="function"&&typeof e.return==="function"&&typeof e.next==="function"}function S(e){try{if(typeof e.length==="number"&&typeof e.callee==="function"){return true}}catch(r){if(r.message.indexOf("callee")!==-1){return true}}return false}function E(e){if(e.constructor&&typeof e.constructor.isBuffer==="function"){return e.constructor.isBuffer(e)}return false}var A={any:function e(r){return r!==undefined},arguments:function e(r){return g(r)==="arguments"},array:function e(r){return g(r)==="array"},boolean:function e(r){return g(r)==="boolean"},buffer:function e(r){return g(r)==="buffer"},date:function e(r){return g(r)==="date"&&!isNaN(r)},error:function e(r){return g(r)==="error"},float32array:function e(r){return g(r)==="float32array"},float64array:function e(r){return g(r)==="float64array"},function:function e(r){return g(r)==="function"},generatorfunction:function e(r){return g(r)==="generatorfunction"},int16array:function e(r){return g(r)==="int16array"},int32array:function e(r){return g(r)==="int32array"},int8array:function e(r){return g(r)==="int8array"},map:function e(r){return g(r)==="map"},null:function e(r){return g(r)==="null"},number:function e(r){return g(r)==="number"},object:function e(r){return g(r)==="object"},promise:function e(r){return g(r)==="promise"},regexp:function e(r){return g(r)==="regexp"},set:function e(r){return g(r)==="set"},string:function e(r){return g(r)==="string"},symbol:function e(r){return g(r)==="symbol"},uint16array:function e(r){return g(r)==="uint16array"},uint32array:function e(r){return g(r)==="uint32array"},uint8array:function e(r){return g(r)==="uint8array"},uint8clampedarray:function e(r){return g(r)==="uint8clampedarray"},undefined:function e(r){return g(r)==="undefined"},weakmap:function e(r){return g(r)==="weakmap"},weakset:function e(r){return g(r)==="weakset"}};var M="Invariant failed";function T(e,r){if(e){return}{throw new Error(M)}}var P=function(e){s(r,e);function r(t){var n;T(t.length>0);var i=t[0];var a=i.path,u=i.value,o=i.type,s=i.branch,c=y(i,["path","value","type","branch"]);var f="Expected a value of type `"+o+"`"+(a.length?" for `"+a.join(".")+"`":"")+" but received `"+JSON.stringify(u)+"`.";n=e.call(this,f)||this;n.type=o;n.value=u;Object.assign(d(n),c);n.path=a;n.branch=s;n.failures=t;n.stack=(new Error).stack;n.__proto__=r.prototype;return n}return r}(v(TypeError));var N=Symbol("STRUCT");var I=function e(r){return typeof r==="function"&&r[N]};var R=function e(r){var t=r.struct;var n=t.Error;var i=function e(r){return e.assert(r)};Object.defineProperty(i,N,{value:true});i.kind=r.kind;i.type=r.type;i.default=function(){return typeof r.defaults==="function"?r.defaults():r.defaults};i.test=function(e){var r=i.check(e,[e],[]),t=r[0];return!t};i.assert=function(e){var r=i.check(e,[e],[]),t=r[0],a=r[1];if(t){throw new n(t)}else{return a}};i.validate=function(e){var r=i.check(e,[e],[]),t=r[0],a=r[1];if(t){return[new n(t)]}else{return[undefined,a]}};i.check=function(e,r,t){if(e===void 0){e=i.default()}var n=[i.fail({value:e,branch:r,path:t})];return[n]};i.fail=function(e){return o({},e,{type:"type"in e?e.type:i.type})};return i};var L=function e(r,t,n){T(Array.isArray(r)&&r.length===1);var i=n(r[0],undefined);var a=R({kind:"array",type:i.type+"[]",defaults:t,struct:n});a.check=function(e,r,t){if(e===void 0){e=a.default()}if(!Array.isArray(e)){return[[a.fail({value:e,branch:r,path:t})]]}var n=[];var u=[];for(var o=0;o<e.length;o++){var s=e[o];var c=i.check(s,r.concat(s),t.concat(o)),f=c[0],l=c[1];if(f){u.push.apply(u,f);continue}n[o]=l}return u.length?[u]:[undefined,n]};return a};var F=function e(r,t,n){T(typeof r==="function");var i=R({kind:"dynamic",type:"dynamic<…>",defaults:t,struct:n});i.check=function(e,t,n){if(e===void 0){e=i.default()}var a=r(e,t,n);return a.check(e,t,n)};return i};var B=function e(r,t,n){T(Array.isArray(r));var i=function e(t){return r.includes(t)};var a=n(i,t);a.kind="enum";a.type=r.map((function(e){return typeof e==="string"?'"'+e+'"':""+e})).join(" | ");return a};var C=function e(r,t,n){var i=R({kind:"function",type:"function<…>",defaults:t,struct:n});i.check=function(e,t,n){if(e===void 0){e=i.default()}var a=r(e,t,n);if(a===true){return[undefined,e]}var u=[];if(a===false){u.push(i.fail({value:e,branch:t,path:n}))}else if(Array.isArray(a)&&a.length>0){for(var s=a,c=Array.isArray(s),f=0,s=c?s:s[Symbol.iterator]();;){var l;if(c){if(f>=s.length)break;l=s[f++]}else{f=s.next();if(f.done)break;l=f.value}var h=l;u.push(i.fail(o({value:e,branch:t,path:n},h)))}}else if(typeof a==="object"){u.push(i.fail(o({value:e,branch:t,path:n},a)))}else{T(false)}return[u]};return i};var U=function e(r,t,n){T(typeof r==="function");var i=function e(t){return t instanceof r};var a=n(i,t);a.kind="instance";a.type="instance<"+r.name+">";return a};var D=function e(r,t,n){T(typeof r==="object");var i={};for(var a in r){i[a]=n(r[a])}var u=R({kind:"interface",type:"interface<{"+Object.keys(r).join()+"}>",defaults:t,struct:n});u.check=function(e,r,t){if(e===void 0){e=u.default()}if(typeof e!=="object"&&typeof e!=="function"){return[[u.fail({value:e,branch:r,path:t})]]}var n=[];for(var a in i){var o=i[a];var s=e[a];var c=o.check(s,r.concat(s),t.concat(a)),f=c[0];if(f){n.push.apply(n,f)}}return n.length?[n]:[undefined,e]};return u};var H=function e(r,t,n){T(Array.isArray(r)&&r.length!==0);var i=r.map((function(e){return n(e)}));var a=i.map((function(e){return e.type})).join(" & ");var u=R({kind:"intersection",type:a,defaults:t,struct:n});u.check=function(e,r,t){if(e===void 0){e=u.default()}var n=e;for(var a=i,o=Array.isArray(a),s=0,a=o?a:a[Symbol.iterator]();;){var c;if(o){if(s>=a.length)break;c=a[s++]}else{s=a.next();if(s.done)break;c=s.value}var f=c;var l=f.check(e,r,t),h=l[0],p=l[1];if(h){return[[u.fail({value:e,branch:r,path:t})]]}else{n=p}}return[undefined,n]};return u};var z=function e(r,t,n){T(typeof r==="function");var i=R({kind:"lazy",type:"lazy<…>",defaults:t,struct:n});i.check=function(){Object.assign(i,r());return i.check.apply(i,arguments)};return i};var J=function e(r,t,n){T(Array.isArray(r)&&r.length===2&&r.every((function(e){return typeof e==="number"})));var i=r[0],a=r[1];var u=function e(r){return r!=null&&typeof r.length==="number"&&r.length>=i&&r.length<=a};var o=n(u,t);o.kind="size";o.type="size<"+i+","+a+">";return o};var $=function e(r,t,n){var i=function e(t){return t===r};var a=n(i,t);a.kind="literal";a.type=typeof r==="string"?'"'+r+'"':""+r;return a};var G=function e(r,t,n){T(typeof r==="object");var i={};for(var a in r){i[a]=n(r[a])}var u=R({kind:"object",type:"{"+Object.keys(r).join()+"}",defaults:t,struct:n});u.check=function(e,r,t){if(e===void 0){e=u.default()}var n=u.default();if(e===undefined){e=n}if(g(e)!=="object"){return[[u.fail({value:e,branch:r,path:t})]]}var a={};var o=[];var s=new Set(Object.keys(i).concat(Object.keys(e)));for(var c=s,f=Array.isArray(c),l=0,c=f?c:c[Symbol.iterator]();;){var h;if(f){if(l>=c.length)break;h=c[l++]}else{l=c.next();if(l.done)break;h=l.value}var p=h;var v=e[p];var y=t.concat(p);var d=r.concat(v);var _=i[p];if(v===undefined&&n!=null&&p in n){v=typeof n[p]==="function"?n[p](e,r,t):n[p]}if(!(p in i)){o.push(u.fail({type:undefined,value:v,path:y,branch:e}));continue}var b=_.check(v,d,y),m=b[0],k=b[1];if(m){o.push.apply(o,m)}else if(k!==undefined&&p in i){a[p]=k}}return o.length?[o]:[undefined,a]};return u};var W=function e(r,t,n){T(typeof r==="object");var i={};for(var a in r){i[a]=n.union([r[a],"undefined"])}var u=R({kind:"object",type:"{"+Object.keys(r).join()+"}",defaults:t,struct:n});u.check=function(e,r,t){if(e===void 0){e=u.default()}var n=u.default();if(e===undefined){e=n}if(g(e)!=="object"){return[[u.fail({value:e,branch:r,path:t})]]}var a={};var o=[];for(var s=e,c=Array.isArray(s),f=0,s=c?s:s[Symbol.iterator]();;){var l;if(c){if(f>=s.length)break;l=s[f++]}else{f=s.next();if(f.done)break;l=f.value}var h=l;var p=e[h];var v=t.concat(h);var y=r.concat(p);var d=i[h];if(p===undefined&&n!=null&&h in n){p=typeof n[h]==="function"?n[h](e,r,t):n[h]}if(!(h in i)){o.push(u.fail({type:undefined,value:p,path:v,branch:e}));continue}var _=d.check(p,y,v),b=_[0],m=_[1];if(b){o.push.apply(o,b)}else if(m!==undefined&&h in i){a[h]=m}}return o.length?[o]:[undefined,a]};return u};var K=function e(r,t,n){T(typeof r==="object");var i={};for(var a in r){i[a]=n(r[a])}var u=R({kind:"pick",type:"pick<{"+Object.keys(r).join()+"}>",defaults:t,struct:n});u.check=function(e,r,t){if(e===void 0){e=u.default()}var n=u.default();if(e===undefined){e=n}if(g(e)!=="object"){return[[u.fail({value:e,branch:r,path:t})]]}var a={};var o=[];for(var s in i){var c=e[s];var f=t.concat(s);var l=r.concat(c);var h=i[s];if(c===undefined&&n!=null&&s in n){c=typeof n[s]==="function"?n[s](e,r,t):n[s]}var p=h.check(c,l,f),v=p[0],y=p[1];if(v){o.push.apply(o,v)}else if(y!==undefined&&s in i){a[s]=y}}return o.length?[o]:[undefined,a]};return u};var V=function e(r,t,n){T(Array.isArray(r)&&r.length===2);var i=n(r[0]);var a=n(r[1]);var u=R({kind:"record",type:"record<"+i.type+","+a.type+">",defaults:t,struct:n});u.check=function(e,r,t){var n=u.default();e=n?o({},n,{},e):e;if(g(e)!=="object"){return[[u.fail({value:e,branch:r,path:t})]]}var s={};var c=[];for(var f in e){var l=e[f];var h=t.concat(f);var p=r.concat(l);var v=i.check(f,p,h),y=v[0],d=v[1];if(y){c.push.apply(c,y)}else{var _=a.check(l,p,h),b=_[0],m=_[1];if(b){c.push.apply(c,b)}else{s[d]=m}}}return c.length?[c]:[undefined,s]};return u};var Y=function e(r,t,n){T(typeof r==="string");var i=n.Types;T(r in i);var a=n(i[r],t);a.kind="scalar";a.type=r;return a};var Q=function e(r,t,n){if(I(r)){return r}if(Array.isArray(r)){if(r.length===1){var i=r,a=i[0];return n.array([a],t)}else if(r.length>1){return n.tuple(r,t)}}if(typeof r==="function"){return n.function(r,t)}if(typeof r==="object"){return n.object(r,t)}if(typeof r==="string"){var u=false;var o;if(r.endsWith("?")){u=true;r=r.slice(0,-1)}if(r.includes("|")){var s=r.split(/\s*\|\s*/g);o=n.union(s,t)}else if(r.includes("&")){var c=r.split(/\s*&\s*/g);o=n.intersection(c,t)}else{o=n.scalar(r,t)}if(u){o=n.union([o,"undefined"],undefined)}return o}throw new Error("A schema definition must be an object, array, string or function, but you passed: "+r)};var Z=function e(r,t,n){T(Array.isArray(r));var i=r.map((function(e){return n(e)}));var a=R({kind:"tuple",type:"["+i.map((function(e){return e.type})).join()+"]",defaults:t,struct:n});a.check=function(e,r,t){if(e===void 0){e=a.default()}if(!Array.isArray(e)){return[[a.fail({value:e,branch:r,path:t})]]}var n=[];var u=[];var o=Math.max(e.length,i.length);for(var s=0;s<o;s++){var c=i[s];var f=e[s];var l=t.concat(s);var h=r.concat(f);if(!c){u.push(a.fail({type:undefined,value:f,path:l,branch:h}))}else{var p=c.check(f,h,l),v=p[0],y=p[1];if(v){u.push.apply(u,v)}else{n[s]=y}}}return u.length?[u]:[undefined,n]};return a};var q=function e(r,t,n){T(Array.isArray(r)&&r.length!==0);var i=r.map((function(e){return n(e)}));var a=i.map((function(e){return e.type})).join(" | ");var u=R({kind:"union",type:a,defaults:t,struct:n});u.check=function(e,r,t){if(e===void 0){e=u.default()}for(var n=i,a=Array.isArray(n),o=0,n=a?n:n[Symbol.iterator]();;){var s;if(a){if(o>=n.length)break;s=n[o++]}else{o=n.next();if(o.done)break;s=o.value}var c=s;var f=c.check(e,r,t),l=f[0],h=f[1];if(!l){return[undefined,h]}}return[[u.fail({value:e,branch:r,path:t})]]};return u};var X=function e(r){if(r===void 0){r={}}var t=function e(r,t){return Q(r,t,e)};t.array=function(e,r){return L(e,r,t)};t.dynamic=function(e,r){return F(e,r,t)};t.enum=function(e,r){return B(e,r,t)};t.function=function(e,r){return C(e,r,t)};t.instance=function(e,r){return U(e,r,t)};t.interface=function(e,r){return D(e,r,t)};t.intersection=function(e,r){return H(e,r,t)};t.lazy=function(e,r){return z(e,r,t)};t.literal=function(e,r){return $(e,r,t)};t.object=function(e,r){return G(e,r,t)};t.optional=function(e,r){return q([e,"undefined"],r,t)};t.partial=function(e,r){return W(e,r,t)};t.pick=function(e,r){return K(e,r,t)};t.record=function(e,r){return V(e,r,t)};t.scalar=function(e,r){return Y(e,r,t)};t.size=function(e,r){return J(e,r,t)};t.tuple=function(e,r){return Z(e,r,t)};t.union=function(e,r){return q(e,r,t)};t.Error=r.error||P;t.Types=o({},A,{},r.types);return t};var ee=X();function re(e){var r=0,t={},n=URL.createObjectURL(new Blob(["$$="+e+";onmessage="+function(e){Promise.resolve(e.data[1]).then((function(e){return $$.apply($$,e)})).then((function(r){postMessage([e.data[0],0,r],[r].filter((function(e){return e instanceof ArrayBuffer||e instanceof MessagePort||self.ImageBitmap&&e instanceof ImageBitmap})))}),(function(r){postMessage([e.data[0],1,""+r])}))}])),i=new Worker(n);return i.onmessage=function(e){t[e.data[0]][e.data[1]](e.data[2]),t[e.data[0]]=null},function(e){return e=[].slice.call(arguments),new Promise((function(){t[++r]=arguments,i.postMessage([r,e],e.filter((function(e){return e instanceof ArrayBuffer||e instanceof MessagePort||self.ImageBitmap&&e instanceof ImageBitmap})))}))}}var te=re((function(e,r){function t(e){if(e!==null){return Object.prototype.toString.call(e)==="[object Array]"}else{return false}}function n(e){if(e!==null){return Object.prototype.toString.call(e)==="[object Object]"}else{return false}}function i(e,r){if(e===r){return true}var a=Object.prototype.toString.call(e);if(a!==Object.prototype.toString.call(r)){return false}if(t(e)===true){if(e.length!==r.length){return false}for(var u=0;u<e.length;u++){if(i(e[u],r[u])===false){return false}}return true}if(n(e)===true){var o={};for(var s in e){if(Object.hasOwnProperty.call(e,s)){if(i(e[s],r[s])===false){return false}o[s]=true}}for(var c in r){if(Object.hasOwnProperty.call(r,c)){if(o[c]!==true){return false}}}return true}return false}function a(e){if(e===""||e===false||e===null||e===undefined){return true}else if(t(e)&&e.length===0){return true}else if(n(e)){for(var r in e){if(e.hasOwnProperty(r)){return false}}return true}else{return false}}function u(e){var r=Object.keys(e);var t=[];for(var n=0;n<r.length;n++){t.push(e[r[n]])}return t}var o;if(typeof String.prototype.trimLeft==="function"){o=function(e){return e.trimLeft()}}else{o=function(e){var r=e.match(/^\s*(.*)/);return r&&r[1]}}var s={0:"NUMBER",1:"ANY",2:"STRING",3:"ARRAY",4:"OBJECT",5:"BOOLEAN",6:"EXPREF",7:"NULL",8:"ARRAY_NUMBER",9:"ARRAY_STRING"};var c=0;var f=1;var l=2;var h=3;var p=4;var v=5;var y=6;var d=7;var _=8;var g=9;var b="EOF";var m="UnquotedIdentifier";var k="QuotedIdentifier";var w="Rbracket";var j="Rparen";var x="Comma";var O="Colon";var S="Rbrace";var E="Number";var A="Current";var M="Expref";var T="Pipe";var P="Or";var N="And";var I="EQ";var R="GT";var L="LT";var F="GTE";var B="LTE";var C="NE";var U="Flatten";var D="Star";var H="Filter";var z="Dot";var J="Not";var $="Lbrace";var G="Lbracket";var W="Lparen";var K="Literal";var V={".":z,"*":D,",":x,":":O,"{":$,"}":S,"]":w,"(":W,")":j,"@":A};var Y={"<":true,">":true,"=":true,"!":true};var Q={" ":true,"\t":true,"\n":true};function Z(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_"||e==="$"}function q(e){return e>="0"&&e<="9"||e==="-"}function X(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="_"||e==="$"}var ee=function(){function e(){this._current=0}e.prototype.tokenize=function(e){var r=[];var t;var n;var i;while(this._current<e.length){if(Z(e[this._current])){t=this._current;n=this._consumeUnquotedIdentifier(e);r.push({type:m,value:n,start:t})}else if(V[e[this._current]]!==undefined){r.push({type:V[e[this._current]],value:e[this._current],start:this._current});this._current++}else if(q(e[this._current])){i=this._consumeNumber(e);r.push(i)}else if(e[this._current]==="["){i=this._consumeLBracket(e);r.push(i)}else if(e[this._current]==='"'){t=this._current;n=this._consumeQuotedIdentifier(e);r.push({type:k,value:n,start:t})}else if(e[this._current]==="'"){t=this._current;n=this._consumeRawStringLiteral(e);r.push({type:K,value:n,start:t})}else if(e[this._current]==="`"){t=this._current;var a=this._consumeLiteral(e);r.push({type:K,value:a,start:t})}else if(Y[e[this._current]]!==undefined){r.push(this._consumeOperator(e))}else if(Q[e[this._current]]!==undefined){this._current++}else if(e[this._current]==="&"){t=this._current;this._current++;if(e[this._current]==="&"){this._current++;r.push({type:N,value:"&&",start:t})}else{r.push({type:M,value:"&",start:t})}}else if(e[this._current]==="|"){t=this._current;this._current++;if(e[this._current]==="|"){this._current++;r.push({type:P,value:"||",start:t})}else{r.push({type:T,value:"|",start:t})}}else{var u=new Error("Unknown character:"+e[this._current]);u.name="LexerError";throw u}}return r};e.prototype._consumeUnquotedIdentifier=function(e){var r=this._current;this._current++;while(this._current<e.length&&X(e[this._current])){this._current++}return e.slice(r,this._current)};e.prototype._consumeQuotedIdentifier=function(e){var r=this._current;this._current++;var t=e.length;while(e[this._current]!=='"'&&this._current<t){var n=this._current;if(e[n]==="\\"&&(e[n+1]==="\\"||e[n+1]==='"')){n+=2}else{n++}this._current=n}this._current++;return JSON.parse(e.slice(r,this._current))};e.prototype._consumeRawStringLiteral=function(e){var r=this._current;this._current++;var t=e.length;while(e[this._current]!=="'"&&this._current<t){var n=this._current;if(e[n]==="\\"&&(e[n+1]==="\\"||e[n+1]==="'")){n+=2}else{n++}this._current=n}this._current++;var i=e.slice(r+1,this._current-1);return i.replace("\\'","'")};e.prototype._consumeNumber=function(e){var r=this._current;this._current++;var t=e.length;while(q(e[this._current])&&this._current<t){this._current++}var n=parseInt(e.slice(r,this._current));return{type:E,value:n,start:r}};e.prototype._consumeLBracket=function(e){var r=this._current;this._current++;if(e[this._current]==="?"){this._current++;return{type:H,value:"[?",start:r}}else if(e[this._current]==="]"){this._current++;return{type:U,value:"[]",start:r}}else{return{type:G,value:"[",start:r}}};e.prototype._consumeOperator=function(e){var r=this._current;var t=e[r];this._current++;if(t==="!"){if(e[this._current]==="="){this._current++;return{type:C,value:"!=",start:r}}else{return{type:J,value:"!",start:r}}}else if(t==="<"){if(e[this._current]==="="){this._current++;return{type:B,value:"<=",start:r}}else{return{type:L,value:"<",start:r}}}else if(t===">"){if(e[this._current]==="="){this._current++;return{type:F,value:">=",start:r}}else{return{type:R,value:">",start:r}}}else if(t==="="){if(e[this._current]==="="){this._current++;return{type:I,value:"==",start:r}}}return};e.prototype._consumeLiteral=function(e){this._current++;var r=this._current;var t=e.length;var n;while(e[this._current]!=="`"&&this._current<t){var i=this._current;if(e[i]==="\\"&&(e[i+1]==="\\"||e[i+1]==="`")){i+=2}else{i++}this._current=i}var a=o(e.slice(r,this._current));a=a.replace("\\`","`");if(this._looksLikeJSON(a)){n=JSON.parse(a)}else{n=JSON.parse('"'+a+'"')}this._current++;return n};e.prototype._looksLikeJSON=function(e){var r='[{"';var t=["true","false","null"];var n="-0123456789";if(e===""){return false}else if(r.indexOf(e[0])>=0){return true}else if(t.indexOf(e)>=0){return true}else if(n.indexOf(e[0])>=0){try{JSON.parse(e);return true}catch(i){return false}}else{return false}};return e}();var re={};re[b]=0;re[m]=0;re[k]=0;re[w]=0;re[j]=0;re[x]=0;re[S]=0;re[E]=0;re[A]=0;re[M]=0;re[T]=1;re[P]=2;re[N]=3;re[I]=5;re[R]=5;re[L]=5;re[F]=5;re[B]=5;re[C]=5;re[U]=9;re[D]=20;re[H]=21;re[z]=40;re[J]=45;re[$]=50;re[G]=55;re[W]=60;var te=function(){function e(){this.index=0;this.tokens=[]}e.prototype.parse=function(e){this._loadTokens(e);this.index=0;var r=this.expression(0);if(this._lookahead(0)!==b){var t=this._lookaheadToken(0);var n=new Error("Unexpected token type: "+t.type+", value: "+t.value);n.name="ParserError";throw n}return r};e.prototype._loadTokens=function(e){var r=new ee;var t=r.tokenize(e);t.push({type:b,value:"",start:e.length});this.tokens=t};e.prototype.expression=function(e){var r=this._lookaheadToken(0);this._advance();var t=this.nud(r);var n=this._lookahead(0);while(e<re[n]){this._advance();t=this.led(n,t);n=this._lookahead(0)}return t};e.prototype._lookahead=function(e){return this.tokens[this.index+e].type};e.prototype._lookaheadToken=function(e){return this.tokens[this.index+e]};e.prototype._advance=function(){this.index++};e.prototype.nud=function(e){var r;var t;var n;switch(e.type){case K:return{type:"Literal",value:e.value};case m:return{type:"Field",name:e.value};case k:var i={type:"Field",name:e.value};if(this._lookahead(0)===W){throw new Error("Quoted identifier not allowed for function names.")}else{return i}case J:t=this.expression(re.Not);return{type:"NotExpression",children:[t]};case D:r={type:"Identity"};t=null;if(this._lookahead(0)===w){t={type:"Identity"}}else{t=this._parseProjectionRHS(re.Star)}return{type:"ValueProjection",children:[r,t]};case H:return this.led(e.type,{type:"Identity"});case $:return this._parseMultiselectHash();case U:r={type:U,children:[{type:"Identity"}]};t=this._parseProjectionRHS(re.Flatten);return{type:"Projection",children:[r,t]};case G:if(this._lookahead(0)===E||this._lookahead(0)===O){t=this._parseIndexExpression();return this._projectIfSlice({type:"Identity"},t)}else if(this._lookahead(0)===D&&this._lookahead(1)===w){this._advance();this._advance();t=this._parseProjectionRHS(re.Star);return{type:"Projection",children:[{type:"Identity"},t]}}else{return this._parseMultiselectList()}case A:return{type:A};case M:n=this.expression(re.Expref);return{type:"ExpressionReference",children:[n]};case W:var a=[];while(this._lookahead(0)!==j){if(this._lookahead(0)===A){n={type:A};this._advance()}else{n=this.expression(0)}a.push(n)}this._match(j);return a[0];default:this._errorToken(e)}};e.prototype.led=function(e,r){var t;switch(e){case z:var n=re.Dot;if(this._lookahead(0)!==D){t=this._parseDotRHS(n);return{type:"Subexpression",children:[r,t]}}else{this._advance();t=this._parseProjectionRHS(n);return{type:"ValueProjection",children:[r,t]}}case T:t=this.expression(re.Pipe);return{type:T,children:[r,t]};case P:t=this.expression(re.Or);return{type:"OrExpression",children:[r,t]};case N:t=this.expression(re.And);return{type:"AndExpression",children:[r,t]};case W:var i=r.name;var a=[];var u,o;while(this._lookahead(0)!==j){if(this._lookahead(0)===A){u={type:A};this._advance()}else{u=this.expression(0)}if(this._lookahead(0)===x){this._match(x)}a.push(u)}this._match(j);o={type:"Function",name:i,children:a};return o;case H:var s=this.expression(0);this._match(w);if(this._lookahead(0)===U){t={type:"Identity"}}else{t=this._parseProjectionRHS(re.Filter)}return{type:"FilterProjection",children:[r,t,s]};case U:var c={type:U,children:[r]};var f=this._parseProjectionRHS(re.Flatten);return{type:"Projection",children:[c,f]};case I:case C:case R:case F:case L:case B:return this._parseComparator(r,e);case G:var l=this._lookaheadToken(0);if(l.type===E||l.type===O){t=this._parseIndexExpression();return this._projectIfSlice(r,t)}else{this._match(D);this._match(w);t=this._parseProjectionRHS(re.Star);return{type:"Projection",children:[r,t]}}default:this._errorToken(this._lookaheadToken(0))}};e.prototype._match=function(e){if(this._lookahead(0)===e){this._advance()}else{var r=this._lookaheadToken(0);var t=new Error("Expected "+e+", got: "+r.type);t.name="ParserError";throw t}};e.prototype._errorToken=function(e){var r=new Error("Invalid token ("+e.type+'): "'+e.value+'"');r.name="ParserError";throw r};e.prototype._parseIndexExpression=function(){if(this._lookahead(0)===O||this._lookahead(1)===O){return this._parseSliceExpression()}else{var e={type:"Index",value:this._lookaheadToken(0).value};this._advance();this._match(w);return e}};e.prototype._projectIfSlice=function(e,r){var t={type:"IndexExpression",children:[e,r]};if(r.type==="Slice"){return{type:"Projection",children:[t,this._parseProjectionRHS(re.Star)]}}else{return t}};e.prototype._parseSliceExpression=function(){var e=[null,null,null];var r=0;var t=this._lookahead(0);while(t!==w&&r<3){if(t===O){r++;this._advance()}else if(t===E){e[r]=this._lookaheadToken(0).value;this._advance()}else{var n=this._lookahead(0);var i=new Error("Syntax error, unexpected token: "+n.value+"("+n.type+")");i.name="Parsererror";throw i}t=this._lookahead(0)}this._match(w);return{type:"Slice",children:e}};e.prototype._parseComparator=function(e,r){var t=this.expression(re[r]);return{type:"Comparator",name:r,children:[e,t]}};e.prototype._parseDotRHS=function(e){var r=this._lookahead(0);var t=[m,k,D];if(t.indexOf(r)>=0){return this.expression(e)}else if(r===G){this._match(G);return this._parseMultiselectList()}else if(r===$){this._match($);return this._parseMultiselectHash()}};e.prototype._parseProjectionRHS=function(e){var r;if(re[this._lookahead(0)]<10){r={type:"Identity"}}else if(this._lookahead(0)===G){r=this.expression(e)}else if(this._lookahead(0)===H){r=this.expression(e)}else if(this._lookahead(0)===z){this._match(z);r=this._parseDotRHS(e)}else{var t=this._lookaheadToken(0);var n=new Error("Sytanx error, unexpected token: "+t.value+"("+t.type+")");n.name="ParserError";throw n}return r};e.prototype._parseMultiselectList=function(){var e=[];while(this._lookahead(0)!==w){var r=this.expression(0);e.push(r);if(this._lookahead(0)===x){this._match(x);if(this._lookahead(0)===w){throw new Error("Unexpected token Rbracket")}}}this._match(w);return{type:"MultiSelectList",children:e}};e.prototype._parseMultiselectHash=function(){var e=[];var r=[m,k];var t,n,i,a;for(;;){t=this._lookaheadToken(0);if(r.indexOf(t.type)<0){throw new Error("Expecting an identifier token, got: "+t.type)}n=t.value;this._advance();this._match(O);i=this.expression(0);a={type:"KeyValuePair",name:n,value:i};e.push(a);if(this._lookahead(0)===x){this._match(x)}else if(this._lookahead(0)===S){this._match(S);break}}return{type:"MultiSelectHash",children:e}};return e}();var ne=function(){function e(e){this.runtime=e}e.prototype.search=function(e,r){return this.visit(e,r)};e.prototype.visit=function(e,r){var o,s,c,f,l,h,p,v,y,d;switch(e.type){case"Field":if(r===null){return null}else if(n(r)){h=r[e.name];if(h===undefined){return null}else{return h}}else{return null}case"Subexpression":c=this.visit(e.children[0],r);for(d=1;d<e.children.length;d++){c=this.visit(e.children[1],c);if(c===null){return null}}return c;case"IndexExpression":p=this.visit(e.children[0],r);v=this.visit(e.children[1],p);return v;case"Index":if(!t(r)){return null}var _=e.value;if(_<0){_=r.length+_}c=r[_];if(c===undefined){c=null}return c;case"Slice":if(!t(r)){return null}var g=e.children.slice(0);var b=this.computeSliceParams(r.length,g);var m=b[0];var k=b[1];var w=b[2];c=[];if(m===null||k===null||w===null)return;if(w>0){for(d=m;d<k;d+=w){c.push(r[d])}}else{for(d=m;d>k;d+=w){c.push(r[d])}}return c;case"Projection":var j=this.visit(e.children[0],r);if(!t(j)){return null}y=[];for(d=0;d<j.length;d++){s=this.visit(e.children[1],j[d]);if(s!==null){y.push(s)}}return y;case"ValueProjection":j=this.visit(e.children[0],r);if(!n(j)){return null}y=[];var x=u(j);for(d=0;d<x.length;d++){s=this.visit(e.children[1],x[d]);if(s!==null){y.push(s)}}return y;case"FilterProjection":j=this.visit(e.children[0],r);if(!t(j)){return null}var O=[];var S=[];for(d=0;d<j.length;d++){o=this.visit(e.children[2],j[d]);if(!a(o)){O.push(j[d])}}for(var E=0;E<O.length;E++){s=this.visit(e.children[1],O[E]);if(s!==null){S.push(s)}}return S;case"Comparator":f=this.visit(e.children[0],r);l=this.visit(e.children[1],r);switch(e.name){case I:c=i(f,l);break;case C:c=!i(f,l);break;case R:c=f>l;break;case F:c=f>=l;break;case L:c=f<l;break;case B:c=f<=l;break;default:throw new Error("Unknown comparator: "+e.name)}return c;case U:var P=this.visit(e.children[0],r);if(!t(P)){return null}var N=[];for(d=0;d<P.length;d++){s=P[d];if(t(s)){N.push.apply(N,s)}else{N.push(s)}}return N;case"Identity":return r;case"MultiSelectList":if(r===null){return null}y=[];for(d=0;d<e.children.length;d++){y.push(this.visit(e.children[d],r))}return y;case"MultiSelectHash":if(r===null){return null}y={};var D;for(d=0;d<e.children.length;d++){D=e.children[d];y[D.name]=this.visit(D.value,r)}return y;case"OrExpression":o=this.visit(e.children[0],r);if(a(o)){o=this.visit(e.children[1],r)}return o;case"AndExpression":f=this.visit(e.children[0],r);if(a(f)===true){return f}return this.visit(e.children[1],r);case"NotExpression":f=this.visit(e.children[0],r);return a(f);case"Literal":return e.value;case T:p=this.visit(e.children[0],r);return this.visit(e.children[1],p);case A:return r;case"Function":var H=[];for(d=0;d<e.children.length;d++){H.push(this.visit(e.children[d],r))}return this.runtime.callFunction(e.name,H);case"ExpressionReference":var z=e.children[0];z.jmespathType=M;return z;default:throw new Error("Unknown node type: "+e.type)}};e.prototype.computeSliceParams=function(e,r){var t=r[0];var n=r[1];var i=r[2];var a=[null,null,null];if(i===null){i=1}else if(i===0){var u=new Error("Invalid slice, step cannot be 0");u.name="RuntimeError";throw u}var o=i<0?true:false;if(t===null){t=o?e-1:0}else{t=this.capSliceRange(e,t,i)}if(n===null){n=o?-1:e}else{n=this.capSliceRange(e,n,i)}a[0]=t;a[1]=n;a[2]=i;return a};e.prototype.capSliceRange=function(e,r,t){if(r<0){r+=e;if(r<0){r=t<0?-1:0}}else if(r>=e){r=t<0?e-1:e}return r};return e}();var ie=function(){function e(e){this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[c]}]},avg:{_func:this._functionAvg,_signature:[{types:[_]}]},ceil:{_func:this._functionCeil,_signature:[{types:[c]}]},contains:{_func:this._functionContains,_signature:[{types:[l,h]},{types:[f]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[l]},{types:[l]}]},floor:{_func:this._functionFloor,_signature:[{types:[c]}]},length:{_func:this._functionLength,_signature:[{types:[l,h,p]}]},map:{_func:this._functionMap,_signature:[{types:[y]},{types:[h]}]},max:{_func:this._functionMax,_signature:[{types:[_,g]}]},merge:{_func:this._functionMerge,_signature:[{types:[p],variadic:true}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[h]},{types:[y]}]},sum:{_func:this._functionSum,_signature:[{types:[_]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[l]},{types:[l]}]},min:{_func:this._functionMin,_signature:[{types:[_,g]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[h]},{types:[y]}]},type:{_func:this._functionType,_signature:[{types:[f]}]},keys:{_func:this._functionKeys,_signature:[{types:[p]}]},values:{_func:this._functionValues,_signature:[{types:[p]}]},sort:{_func:this._functionSort,_signature:[{types:[g,_]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[h]},{types:[y]}]},join:{_func:this._functionJoin,_signature:[{types:[l]},{types:[g]}]},reverse:{_func:this._functionReverse,_signature:[{types:[l,h]}]},to_array:{_func:this._functionToArray,_signature:[{types:[f]}]},to_string:{_func:this._functionToString,_signature:[{types:[f]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[f]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[f],variadic:true}]}};this._interpreter=e}e.prototype.callFunction=function(e,r){var t=this.functionTable[e];if(t===undefined){throw new Error("Unknown function: "+e+"()")}this._validateArgs(e,r,t._signature);return t._func.call(this,r)};e.prototype._validateArgs=function(e,r,t){var n;if(t[t.length-1].variadic){if(r.length<t.length){n=t.length===1?" argument":" arguments";throw new Error("ArgumentError: "+e+"() "+"takes at least"+t.length+n+" but received "+r.length)}}else if(r.length!==t.length){n=t.length===1?" argument":" arguments";throw new Error("ArgumentError: "+e+"() "+"takes "+t.length+n+" but received "+r.length)}var i;var a;var u;for(var o=0;o<t.length;o++){u=false;i=t[o].types;a=this._getTypeName(r[o]);for(var c=0;c<i.length;c++){if(a!==undefined&&this._typeMatches(a,i[c],r[o])){u=true;break}}if(!u){throw new Error("\n          TypeError: "+e+"()\n            expected argument "+(o+1)+" to be type "+i+"("+s[i]+") but received type "+a+"("+(a&&s[a]||"UNDEFINED")+") instead.")}}};e.prototype._typeMatches=function(e,r,t){if(r===f){return true}if(r===g||r===_||r===h){if(r===h){return e===h}else if(e===h){var n;if(r===_){n=c}else if(r===g){n=l}for(var i=0;i<t.length;i++){var a=this._getTypeName(t[i]);if(a!==undefined&&n!==undefined&&!this._typeMatches(a,n,t[i])){return false}}return true}}else{return e===r}return false};e.prototype._getTypeName=function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return l;case"[object Number]":return c;case"[object Array]":return h;case"[object Boolean]":return v;case"[object Null]":return d;case"[object Object]":if(e.jmespathType===M){return y}else{return p}default:return}};e.prototype._functionStartsWith=function(e){return e[0].lastIndexOf(e[1])===0};e.prototype._functionEndsWith=function(e){var r=e[0];var t=e[1];return r.indexOf(t,r.length-t.length)!==-1};e.prototype._functionReverse=function(e){var r=this._getTypeName(e[0]);if(r===l){var t=e[0];var n="";for(var i=t.length-1;i>=0;i--){n+=t[i]}return n}else{var a=e[0].slice(0);a.reverse();return a}};e.prototype._functionAbs=function(e){return Math.abs(e[0])};e.prototype._functionCeil=function(e){return Math.ceil(e[0])};e.prototype._functionAvg=function(e){var r=0;var t=e[0];for(var n=0;n<t.length;n++){r+=t[n]}return r/t.length};e.prototype._functionContains=function(e){return e[0].indexOf(e[1])>=0};e.prototype._functionFloor=function(e){return Math.floor(e[0])};e.prototype._functionLength=function(e){if(!n(e[0])){return e[0].length}else{return Object.keys(e[0]).length}};e.prototype._functionMap=function(e){if(!this._interpreter)return[];var r=[];var t=this._interpreter;var n=e[0];var i=e[1];for(var a=0;a<i.length;a++){r.push(t.visit(n,i[a]))}return r};e.prototype._functionMerge=function(e){var r={};for(var t=0;t<e.length;t++){var n=e[t];for(var i in n){r[i]=n[i]}}return r};e.prototype._functionMax=function(e){if(e[0].length>0){var r=this._getTypeName(e[0][0]);if(r===c){return Math.max.apply(Math,e[0])}else{var t=e[0];var n=t[0];for(var i=1;i<t.length;i++){if(n.localeCompare(t[i])<0){n=t[i]}}return n}}else{return null}};e.prototype._functionMin=function(e){if(e[0].length>0){var r=this._getTypeName(e[0][0]);if(r===c){return Math.min.apply(Math,e[0])}else{var t=e[0];var n=t[0];for(var i=1;i<t.length;i++){if(t[i].localeCompare(n)<0){n=t[i]}}return n}}else{return null}};e.prototype._functionSum=function(e){var r=0;var t=e[0];for(var n=0;n<t.length;n++){r+=t[n]}return r};e.prototype._functionType=function(e){switch(this._getTypeName(e[0])){case c:return"number";case l:return"string";case h:return"array";case p:return"object";case v:return"boolean";case y:return"expref";case d:return"null";default:return}};e.prototype._functionKeys=function(e){return Object.keys(e[0])};e.prototype._functionValues=function(e){var r=e[0];var t=Object.keys(r);var n=[];for(var i=0;i<t.length;i++){n.push(r[t[i]])}return n};e.prototype._functionJoin=function(e){var r=e[0];var t=e[1];return t.join(r)};e.prototype._functionToArray=function(e){if(this._getTypeName(e[0])===h){return e[0]}else{return[e[0]]}};e.prototype._functionToString=function(e){if(this._getTypeName(e[0])===l){return e[0]}else{return JSON.stringify(e[0])}};e.prototype._functionToNumber=function(e){var r=this._getTypeName(e[0]);var t;if(r===c){return e[0]}else if(r===l){t=+e[0];if(!isNaN(t)){return t}}return null};e.prototype._functionNotNull=function(e){for(var r=0;r<e.length;r++){if(this._getTypeName(e[r])!==d){return e[r]}}return null};e.prototype._functionSort=function(e){var r=e[0].slice(0);r.sort();return r};e.prototype._functionSortBy=function(e){if(!this._interpreter)return[];var r=e[0].slice(0);if(r.length===0){return r}var t=this._interpreter;var n=e[1];var i=this._getTypeName(t.visit(n,r[0]));if(i!==undefined&&[c,l].indexOf(i)<0){throw new Error("TypeError")}var a=this;var u=[];for(var o=0;o<r.length;o++){u.push([o,r[o]])}u.sort((function(e,r){var u=t.visit(n,e[1]);var o=t.visit(n,r[1]);if(a._getTypeName(u)!==i){throw new Error("TypeError: expected "+i+", received "+a._getTypeName(u))}else if(a._getTypeName(o)!==i){throw new Error("TypeError: expected "+i+", received "+a._getTypeName(o))}if(u>o){return 1}else if(u<o){return-1}else{return e[0]-r[0]}}));for(var s=0;s<u.length;s++){r[s]=u[s][1]}return r};e.prototype._functionMaxBy=function(e){var r=e[1];var t=e[0];var n=this.createKeyFunction(r,[c,l]);var i=-Infinity;var a;var u;for(var o=0;o<t.length;o++){u=n&&n(t[o]);if(u>i){i=u;a=t[o]}}return a};e.prototype._functionMinBy=function(e){var r=e[1];var t=e[0];var n=this.createKeyFunction(r,[c,l]);var i=Infinity;var a;var u;for(var o=0;o<t.length;o++){u=n&&n(t[o]);if(u<i){i=u;a=t[o]}}return a};e.prototype.createKeyFunction=function(e,r){if(!this._interpreter)return;var t=this;var n=this._interpreter;var i=function(i){var a=n.visit(e,i);if(r.indexOf(t._getTypeName(a))<0){var u="TypeError: expected one of "+r+", received "+t._getTypeName(a);throw new Error(u)}return a};return i};return e}();function ae(e,r){var t=new te;var n=new ie;var i=new ne(n);n._interpreter=i;var a=t.parse(r);return i.search(a,e)}return ae(r,e)}));i.defineScale("genome",{base:1,k:1e3,M:1e6,G:1e9,T:1e12,P:1e15,E:1e18,Z:1e21,Y:1e24},1);i.defineScale("filesize",{"":Math.pow(1024,0),k:Math.pow(1024,1),M:Math.pow(1024,2),G:Math.pow(1024,3),T:Math.pow(1024,4),P:Math.pow(1024,5)},1);var ne=ee(["number","number"]);var ie=ee({x:"number",y:"number"});var ae=ee([ne]);var ue=ee([ie]);var oe=function(e){if(!Array.isArray(e))return e;try{ae(e);return e.map((function(e){var r=e[0],t=e[1];return{x:r,y:t}}))}catch(t){}try{ue(e);var r=Object.entries(e.reduce((function(e,r){var t=r.x,n=r.y;if(n===0)return e;var i=e[t];e[t]=i?e[t]+n:n;return e}),{})).map((function(e){return{x:+e[0],y:e[1]}}));return r}catch(t){}return e};var se=function(e,r){return __awaiter(n,void 0,void 0,(function(){var t=this;return __generator(this,(function(n){if(typeof e==="string"||Array.isArray(e))return[2,e];return[2,Promise.all(Object.entries(e).map((function(e){var n=e[0],i=e[1];return __awaiter(t,void 0,void 0,(function(){return __generator(this,(function(e){return[2,ce(n,i,r)]}))}))})))]}))}))};var ce=function(e,r,t){return __awaiter(n,void 0,void 0,(function(){var n,a,u,o,s,c,f,l,h,p,v,y,d,_,g,b;var m;var k=this;return __generator(this,(function(w){switch(w.label){case 0:f=e;switch(f){case"fn:sum":return[3,1];case"fn:divide":return[3,3];case"fn:mod":return[3,10];case"fn:formatNumber":return[3,17];case"fn:toFixed":return[3,19];case"fn:mode":return[3,21];case"fn:uniq":return[3,23];case"fn:map":return[3,25];case"fn:round":return[3,26];case"fn:count":return[3,28];case"fn:average":return[3,30];case"fn:jmespath":return[3,32]}return[3,33];case 1:return[4,se(r,t)];case 2:n=w.sent()[0]||[];return[2,n.reduce((function(e,r){return e+r}),0)];case 3:s=r[0],c=r[1];if(!(typeof s==="number"))return[3,4];l=s;return[3,6];case 4:return[4,se(s,t)];case 5:l=w.sent()[0]||0;w.label=6;case 6:s=l;if(!(typeof c==="number"))return[3,7];h=c;return[3,9];case 7:return[4,se(c,t)];case 8:h=w.sent()[0]||0;w.label=9;case 9:c=h;return[2,s/c];case 10:s=r[0],c=r[1];if(!(typeof s==="number"))return[3,11];p=s;return[3,13];case 11:return[4,se(s,t)];case 12:p=w.sent()[0]||0;w.label=13;case 13:s=p;if(!(typeof c==="number"))return[3,14];v=c;return[3,16];case 14:return[4,se(c,t)];case 15:v=w.sent()[0]||0;w.label=16;case 16:c=v;return[2,s%c];case 17:a=r[0],u=r[1],o=r[2];return[4,se(a,t)];case 18:n=w.sent()[0]||0;y=i(n,{precision:u,recursive:2,scale:"SI",unit:o||""});y=typeof y==="string"?y:y[0];d=(/\d+/g.exec(y)||[])[0]==="1";return[2,""+y+(d?"":"s")];case 19:a=r[0],u=r[1];return[4,se(a,t)];case 20:n=w.sent()[0]||0;return[2,Number.parseFloat(n).toFixed(u)];case 21:a=r[0],u=r[1];return[4,se(a,t)];case 22:n=w.sent()[0]||0;n=n.sort((function(e,r){return e-r})).reduce((function(e,r){var t=Number.parseFloat(r).toFixed(u);e[t]=(e[t]||0)+1;if(e[t]>=e.modeCount){e.mode=r;e.modeCount=e[t]}return e}),{mode:0,modeCount:0});return[2,n.mode];case 23:return[4,se(r,t)];case 24:n=w.sent()[0]||[];return[2,n.reduce((function(e,r){!e.includes(r)&&e.push(r);return e}),[])];case 25:return[2,Promise.all(r.map((function(e){return __awaiter(k,void 0,void 0,(function(){var r,n,i,a;var u=this;return __generator(this,(function(o){switch(o.label){case 0:n=(r=Object.assign).apply;i=[Object];a=[[{}]];return[4,Promise.all(Object.entries(e).map((function(e){var r=e[0],n=e[1];return __awaiter(u,void 0,void 0,(function(){var e;var i;return __generator(this,(function(a){switch(a.label){case 0:return[4,se(n,t)];case 1:e=a.sent();return[2,(i={},i[r]=typeof e==="string"?e:e[0],i)]}}))}))})))];case 1:return[2,n.apply(r,i.concat([__spreadArrays.apply(void 0,a.concat([o.sent()]))]))]}}))}))})))];case 26:g=(_=Math).round;return[4,se(r,t)];case 27:return[2,g.apply(_,[w.sent()[0]||0])];case 28:return[4,se(r,t)];case 29:return[2,w.sent()[0].length];case 30:return[4,se(r,t)];case 31:b=w.sent()[0]||[];return[2,b.reduce((function(e,r){return e+r}),0)/(b.length||1)];case 32:return[2,te(r,t)];case 33:return[3,34];case 34:return[2,(m={},m[e]=r,m)]}}))}))};var fe=e("p",(function(e,r){return __awaiter(n,void 0,void 0,(function(){var t;return __generator(this,(function(n){switch(n.label){case 0:if(typeof r==="string")return[2,r];return[4,se(r,e)];case 1:t=n.sent()[0];if(Array.isArray(t)){return[2,oe(t)]}if(typeof t==="number"){return[2,t.toLocaleString()]}return[2,t]}}))}))}));var le=e("m",(function(e,r){return __awaiter(n,void 0,void 0,(function(){var t,n,i,a;var u=this;return __generator(this,(function(o){switch(o.label){case 0:n=(t=Object.assign).apply;i=[Object];a=[[{}]];return[4,Promise.all(Object.entries(e).filter((function(e){var r=e[0];return r.startsWith("@")})).map((function(e){var t=e[0],n=e[1];return __awaiter(u,void 0,void 0,(function(){var e;var i;return __generator(this,(function(a){switch(a.label){case 0:i={};e=t.substr(1);return[4,fe(r,n)];case 1:return[2,(i[e]=a.sent(),i)]}}))}))})))];case 1:return[2,n.apply(t,i.concat([__spreadArrays.apply(void 0,a.concat([o.sent()]))]))]}}))}))}))}}}));