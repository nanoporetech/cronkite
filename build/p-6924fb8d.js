import{a as n}from"./p-8e190213.js";const i=(n,i,t)=>{n.style.setProperty(i,t)},t=(n,i)=>{n.style.removeProperty(i)},e=[],a=(n=[],i)=>{if(void 0!==i){const t=Array.isArray(i)?i:[i];return[...n,...t]}return n},o=()=>{let o,r,s,l,m,d,f,c,u,y,p,v,g,A=[],$=[],b=[],C=!1,E={},k=[],S=[],h={},T=0,w=!1,R=!1,D=!0,F=!1,W=!0;const I=[],M=[],j=[],x=[],K=[],P=[],q=[],z=[],B=[],G=[],H="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,J="function"==typeof Element&&"function"==typeof Element.prototype.animate&&H,L=(n,i)=>((i&&i.oneTimeCallback?M:I).push({c:n,o:i}),g),N=()=>{if(J)G.forEach(n=>{n.cancel()}),G.length=0;else{const i=j.slice();n(()=>{i.forEach(n=>{t(n,"animation-name"),t(n,"animation-duration"),t(n,"animation-timing-function"),t(n,"animation-iteration-count"),t(n,"animation-delay"),t(n,"animation-play-state"),t(n,"animation-fill-mode"),t(n,"animation-direction")})})}},O=()=>{K.forEach(n=>{n&&n.parentNode&&n.parentNode.removeChild(n)}),K.length=0},Q=()=>void 0!==m?m:f?f.getFill():"both",U=()=>void 0!==u?u:void 0!==d?d:f?f.getDirection():"normal",V=()=>w?"linear":void 0!==s?s:f?f.getEasing():"linear",X=()=>R?0:void 0!==y?y:void 0!==r?r:f?f.getDuration():0,Y=()=>void 0!==l?l:f?f.getIterations():1,Z=()=>void 0!==p?p:void 0!==o?o:f?f.getDelay():0,_=()=>{0!==T&&0==--T&&((()=>{sn(),z.forEach(n=>{n()}),B.forEach(n=>{n()}),(()=>{const n=k,t=S,e=h;j.forEach(a=>{const o=a.classList;n.forEach(n=>o.add(n)),t.forEach(n=>o.remove(n));for(const n in e)e.hasOwnProperty(n)&&i(a,n,e[n])})})();const n=D?1:0;I.forEach(i=>i.c(n,g)),M.forEach(i=>i.c(n,g)),M.length=0,W=!0,F=!0})(),f&&f.animationFinish())},nn=(t=!0)=>{P.forEach(n=>{n()}),q.forEach(n=>{n()}),(()=>{const n=$,t=b,e=E;j.forEach(a=>{const o=a.classList;n.forEach(n=>o.add(n)),t.forEach(n=>o.remove(n));for(const n in e)e.hasOwnProperty(n)&&i(a,n,e[n])})})(),A.length>0&&(J?(j.forEach(n=>{const i=n.animate(A,{delay:Z(),duration:X(),easing:V(),iterations:Y(),fill:Q(),direction:U()});i.pause(),G.push(i)}),G.length>0&&(G[0].onfinish=()=>{_()})):((t=!0)=>{O(),j.forEach(a=>{if(A.length>0){const o=((n=[])=>n.map(n=>{const i=n.offset,t=[];for(const e in n)n.hasOwnProperty(e)&&"offset"!==e&&t.push(`${e}: ${n[e]};`);return`${100*i}% { ${t.join(" ")} }`}).join(" "))(A),r=((n,i,t)=>{const e=(n=>{const i=n.getRootNode();return i.head||i})(t),a=e.querySelector("#"+n);if(a)return a;const o=(t.ownerDocument||document).createElement("style");return o.id=n,o.textContent=`@keyframes ${n} { ${i} } @keyframes ${n}-alt { ${i} }`,e.appendChild(o),o})(v=(n=>{let i=e.indexOf(n);return i<0&&(i=e.push(n)-1),`ion-animation-${i}`})(o),o,a);K.push(r),i(a,"animation-duration",`${X()}ms`),i(a,"animation-timing-function",V()),i(a,"animation-delay",`${Z()}ms`),i(a,"animation-fill-mode",Q()),i(a,"animation-direction",U());const s=Y()===1/0?"infinite":Y().toString();i(a,"animation-iteration-count",s),i(a,"animation-play-state","paused"),t&&i(a,"animation-name",`${r.id}-alt`),n(()=>{i(a,"animation-name",r.id||null)})}})})(t)),C=!0},tn=n=>{if(n=Math.min(Math.max(n,0),.999),J)G.forEach(i=>{i.currentTime=i.effect.getComputedTiming().delay+X()*n,i.pause()});else{const t=`-${(Z()||0)+X()*n}ms`;j.forEach(n=>{A.length>0&&(i(n,"animation-delay",t),i(n,"animation-play-state","paused"))})}},en=(t=!0)=>{j.forEach(e=>{n(()=>{i(e,"animation-name",v||null),i(e,"animation-duration",`${X()}ms`),i(e,"animation-timing-function",V()),i(e,"animation-delay",`${Z()}ms`),i(e,"animation-fill-mode",Q()||null),i(e,"animation-direction",U()||null);const a=Y()===1/0?"infinite":Y().toString();i(e,"animation-iteration-count",a),t&&i(e,"animation-name",`${v}-alt`),n(()=>{i(e,"animation-name",v||null)})})})},an=(n=!1,i=!0)=>(n&&x.forEach(i=>{i.update(n)}),J?G.forEach(n=>{n.effect.updateTiming({delay:Z(),duration:X(),easing:V(),iterations:Y(),fill:Q(),direction:U()})}):en(i),g),on=()=>{C&&(J?G.forEach(n=>{n.pause()}):j.forEach(n=>{i(n,"animation-play-state","paused")}))},rn=()=>{c=void 0,_()},sn=()=>{c&&clearTimeout(c)},ln=e=>new Promise(a=>{e&&e.sync&&(R=!0,L(()=>R=!1,{oneTimeCallback:!0})),C||nn(),F&&(J?tn(0):en(),F=!1),W&&(T=x.length+1,W=!1),L(()=>a(),{oneTimeCallback:!0}),x.forEach(n=>{n.play()}),J?(G.forEach(n=>{n.play()}),0!==A.length&&0!==j.length||_()):(()=>{if(sn(),j.forEach(t=>{A.length>0&&n(()=>{i(t,"animation-play-state","running")})}),0===A.length||0===j.length)_();else{const i=Z()||0,e=X()||0,a=Y()||1;c=setTimeout(rn,i+e*a+100),(i=>{let e;const a={passive:!0},o=a=>{i===a.target&&(e&&e(),sn(),n(()=>{j.forEach(n=>{t(n,"animation-duration"),t(n,"animation-delay"),t(n,"animation-play-state")}),n(_)}))};i&&(i.addEventListener("webkitAnimationEnd",o,a),i.addEventListener("animationend",o,a),e=()=>{i.removeEventListener("webkitAnimationEnd",o,a),i.removeEventListener("animationend",o,a)})})(j[0])}})()}),mn=(n,i)=>{const t=A[0];return void 0!==t&&0===t.offset?t[n]=i:A=[{offset:0,[n]:i},...A],g};return g={parentAnimation:f,elements:j,childAnimations:x,animationFinish:_,from:mn,to:(n,i)=>{const t=A[A.length-1];return void 0!==t&&1===t.offset?t[n]=i:A=[...A,{offset:1,[n]:i}],g},fromTo:(n,i,t)=>mn(n,i).to(n,t),parent:n=>(f=n,g),play:ln,playAsync:()=>ln(),playSync:()=>(ln({sync:!0}),g),pause:()=>(x.forEach(n=>{n.pause()}),on(),g),stop:()=>{x.forEach(n=>{n.stop()}),C&&(N(),C=!1)},destroy:()=>(x.forEach(n=>{n.destroy()}),N(),O(),j.length=0,x.length=0,A.length=0,(()=>(I.length=0,M.length=0,g))(),C=!1,W=!0,g),keyframes:n=>(A=n,g),addAnimation:n=>{if(null!=n)if(Array.isArray(n))for(const i of n)i.parent(g),x.push(i);else n.parent(g),x.push(n);return g},addElement:n=>{if(null!=n)if(1===n.nodeType)j.push(n);else if(n.length>=0)for(let i=0;i<n.length;i++)j.push(n[i]);else console.error("Invalid addElement value");return g},update:an,fill:n=>(m=n,an(!0),g),direction:n=>(d=n,an(!0),g),iterations:n=>(l=n,an(!0),g),duration:n=>(J||0!==n||(n=1),r=n,an(!0),g),easing:n=>(s=n,an(!0),g),delay:n=>(o=n,an(!0),g),getWebAnimations:()=>G,getKeyframes:()=>A,getFill:Q,getDirection:U,getDelay:Z,getIterations:Y,getEasing:V,getDuration:X,afterAddRead:n=>(z.push(n),g),afterAddWrite:n=>(B.push(n),g),afterClearStyles:(n=[])=>{for(const i of n)h[i]="";return g},afterStyles:(n={})=>(h=n,g),afterRemoveClass:n=>(S=a(S,n),g),afterAddClass:n=>(k=a(k,n),g),beforeAddRead:n=>(P.push(n),g),beforeAddWrite:n=>(q.push(n),g),beforeClearStyles:(n=[])=>{for(const i of n)E[i]="";return g},beforeStyles:(n={})=>(E=n,g),beforeRemoveClass:n=>(b=a(b,n),g),beforeAddClass:n=>($=a($,n),g),onFinish:L,progressStart:(n=!1)=>(x.forEach(i=>{i.progressStart(n)}),on(),w=n,C?(an(),tn(0)):nn(),g),progressStep:n=>(x.forEach(i=>{i.progressStep(n)}),tn(n),g),progressEnd:(n,i,t)=>(w=!1,x.forEach(e=>{e.progressEnd(n,i,t)}),void 0!==t&&(y=t),F=!1,(D=1===n)?J||(p=i*X()*-1,an(!1,!1)):(u="reverse"===U()?"normal":"reverse",J?(an(),tn(1-i)):(p=(1-i)*X()*-1,an(!1,!1))),L(()=>{D=!0,y=void 0,u=void 0,p=void 0},{oneTimeCallback:!0}),f||ln(),g)}};export{o as c};