var __awaiter=this&&this.__awaiter||function(t,e,r,i){function a(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,n){function o(t){try{h(i.next(t))}catch(e){n(e)}}function s(t){try{h(i["throw"](t))}catch(e){n(e)}}function h(t){t.done?r(t.value):a(t.value).then(o,s)}h((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var r={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,a,n,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return h([t,e])}}function h(o){if(i)throw new TypeError("Generator is already executing.");while(r)try{if(i=1,a&&(n=o[0]&2?a["return"]:o[0]?a["throw"]||((n=a["return"])&&n.call(a),0):a.next)&&!(n=n.call(a,o[1])).done)return n;if(a=0,n)o=[o[0]&2,n.value];switch(o[0]){case 0:case 1:n=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;a=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(n=r.trys,n=n.length>0&&n[n.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!n||o[1]>n[0]&&o[1]<n[3])){r.label=o[1];break}if(o[0]===6&&r.label<n[1]){r.label=n[1];n=o;break}if(n&&r.label<n[2]){r.label=n[2];r.ops.push(o);break}if(n[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(s){o=[6,s];a=0}finally{i=n=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var i=Array(t),a=0,e=0;e<r;e++)for(var n=arguments[e],o=0,s=n.length;o<s;o++,a++)i[a]=n[o];return i};System.register(["./p-00ae5dc6.system.js","./p-1a44274d.system.js"],(function(t){"use strict";var e,r,i,a,n,o,s,h,l,c,u;return{setters:[function(t){e=t.r;r=t.d;i=t.h;a=t.c},function(t){n=t.c;o=t.d;s=t.l;h=t.e;l=t.f;c=t.s;u=t.m}],execute:function(){var f={height:300,transitionDuration:350,width:600};var p;(function(t){t["linear"]="line";t["natural"]="curve";t["step"]="step"})(p||(p={}));var d=t("nanoshell_linechart",function(){function t(t){var i=this;e(this,t);this.container=null;this.lineDef=n().x((function(t){return i.xScale(t.x)})).y((function(t){return i.yScale(t.y)})).curve(o);this.minMaxValues={maxX:0,maxY:0,xForMaxY:0,yForMaxX:0};this.path=null;this.svg=null;this.xScale=s();this.yScale=s();this.margin={bottom:0,left:0,right:0,top:0};this.curveType=p.step;this.data=[];this.height=200;this.transitionDuration=350;this.width=600;this.xLimit=0;this.yLimit=0;this.readychart=r(this,"readychart",7);this.updatechart=r(this,"updatechart",7);this.beforeUpdatechart=r(this,"beforeUpdatechart",7)}t.prototype.formatData=function(t){var e=t;if(typeof t==="string"){try{e=JSON.parse(t)}catch(r){e=[];console.warn("Could not process data",r.message)}}return e};t.prototype.setDataHandler=function(t){if(typeof this.data==="string")this.data=this.formatData(t);this.minMaxValues={maxX:this.xLimit,maxY:this.yLimit,xForMaxY:0,yForMaxX:0}};t.prototype.setXLimitHandler=function(t){this.minMaxValues.maxX=t};t.prototype.setYLimitHandler=function(t){this.minMaxValues.maxY=t};t.prototype.componentWillLoad=function(){if(typeof this.data==="string")this.data=this.formatData(this.data)};t.prototype.componentDidLoad=function(){var t=this;this.initChartRoot();this.rebuildChartDefs();this.drawChart();setTimeout((function(){t.readychart.emit(t)}),this.transitionDuration)};t.prototype.componentDidUpdate=function(){var t=this;this.beforeUpdatechart.emit(this);this.rebuildChartDefs();this.drawChart();setTimeout((function(){t.updatechart.emit(t)}),this.transitionDuration)};t.prototype.getContainer=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.container]}))}))};t.prototype.getInstance=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this]}))}))};t.prototype.getPath=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){return[2,this.path]}))}))};t.prototype.updateMargins=function(t){return __awaiter(this,void 0,void 0,(function(){var e=this;return __generator(this,(function(r){this.margin=Object.assign.apply(Object,__spreadArrays([{},this.margin],Object.keys(t).filter((function(r){return r in e.margin&&typeof t[r]==="number"})).map((function(r){var i;return i={},i[r]=e.margin[r]+t[r],i}))));return[2]}))}))};t.prototype.drawChart=function(){var t=this.margin,e=t.left,r=t.top;if(!this.svg||!this.lineDef)return;this.svg.attr("viewBox","0 0 "+(this.width||f.width)+" "+(this.height||f.height));this.container&&this.container.attr("transform","translate("+(e||0)+","+(r||0)+")");if(!this.data.length)return;var i=__spreadArrays([{x:0,y:0}],this.data,[{x:this.data[this.data.length-1].x,y:0}]);this.path&&this.path.datum(i).transition().duration(this.transitionDuration).attr("d",this.lineDef.curve(this.getCurveFromType()))};t.prototype.getChartDimensions=function(){var t=this.margin,e=t.left,r=t.right,i=t.top,a=t.bottom;var n=(this.width||f.width)-(e||0)-(r||0);var o=(this.height||f.height)-(i||0)-(a||0);return{width:n,height:o}};t.prototype.getCurveFromType=function(){if(this.curveType===p.linear){return h}if(this.curveType===p.natural){return l}return o};t.prototype.initChartRoot=function(){if(!this.hostEl||!this.hostEl)return;var t=this.hostEl.querySelector("svg");if(!this.svg&&t){this.svg=c(t)}if(this.svg&&!this.container){this.container=this.svg.append("g").attr("class","linechart-image-group").attr("transform","translate("+0+","+0+")");this.path=this.container?this.container.append("path").classed("linechart-path",true):null}};t.prototype.rebuildChartDefs=function(){var t=this;var e=this.getChartDimensions(),r=e.width,i=e.height;this.minMaxValues=this.data.reduce((function(t,e){var r=t.maxX,i=t.maxY,a=t.xForMaxY,n=t.yForMaxX;var o=e.x,s=e.y;return{maxX:o>r&&o||r,maxY:s>i&&s||i,xForMaxY:s>i&&o||a,yForMaxX:o>r&&s||n}}),Object.assign({},this.minMaxValues,{maxX:this.xLimit,maxY:this.yLimit}));var a=this.minMaxValues,h=a.maxX,l=a.maxY;this.xScale=s().domain([0,h]).range([0,r]);this.yScale=s().domain([0,Math.max(5,l)]).range([i,0]).clamp(true);this.lineDef=n().x((function(e){return t.xScale(e.x)})).y((function(e){return t.yScale(e.y)})).curve(o)};t.prototype.render=function(){return i("div",{class:"chart-container"},i("div",{class:"svg-container"},i("svg",{class:"svg-content"+(this.data&&this.data.length?"":" no-data"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+(this.width||f.width)+" "+(this.height||f.height),preserveAspectRatio:"xMinYMin meet"})))};Object.defineProperty(t.prototype,"hostEl",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{data:["setDataHandler"],xLimit:["setXLimitHandler"],yLimit:["setYLimitHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host,:root{--nanoshell-linechart-background-color:var(--ont-background-color,transparent);--nanoshell-linechart-fill:var(--ont-linechart-fill,#01738f);--nanoshell-linechart-fill-opacity:var(--ont-linechart-fill-opacity,0.8);--nanoshell-linechart-stroke:var(--ont-linechart-stroke,transparent);--nanoshell-linechart-stroke-width:var(--ont-linechart-stroke-width,0);--nanoshell-linechart-stroke-opacity:var(--ont-linechart-stroke-opacity,0.8)}.chart-container{display:-ms-flexbox;display:flex;-ms-flex-flow:row wrap;flex-flow:row wrap;-ms-flex:0 1 auto;flex:0 1 auto;-ms-flex-pack:center;justify-content:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin:0 auto}.chart-container .svg-container{display:-ms-flexbox;display:flex;position:relative;width:100%;vertical-align:middle;-ms-flex:1;flex:1}.chart-container .svg-container .svg-content{display:-ms-flexbox;display:flex;top:0;left:0;-ms-flex:1;flex:1;-ms-flex-item-align:center;align-self:center;justify-self:center;overflow:hidden}.chart-container .svg-container .svg-content.no-data{display:none}.chart-container .svg-container .svg-content .bold-chart-label{font-size:11px;opacity:.8}.chart-container .svg-container .svg-content .linechart-path{fill:var(--nanoshell-linechart-fill);fill-opacity:var(--nanoshell-linechart-fill-opacity);stroke:var(--nanoshell-linechart-stroke);stroke-width:var(--nanoshell-linechart-stroke-width);stroke-opacity:var(--nanoshell-linechart-stroke-opacity)}"},enumerable:true,configurable:true});return t}());var m=Array.prototype.slice;function g(t){return t}var x=1,y=2,b=3,v=4,L=1e-6;function w(t){return"translate("+(t+.5)+",0)"}function _(t){return"translate(0,"+(t+.5)+")"}function T(t){return function(e){return+t(e)}}function X(t){var e=Math.max(0,t.bandwidth()-1)/2;if(t.round())e=Math.round(e);return function(r){return+t(r)+e}}function M(){return!this.__axis}function Y(t,e){var r=[],i=null,a=null,n=6,o=6,s=3,h=t===x||t===v?-1:1,l=t===v||t===y?"x":"y",c=t===x||t===b?w:_;function u(u){var f=i==null?e.ticks?e.ticks.apply(e,r):e.domain():i,p=a==null?e.tickFormat?e.tickFormat.apply(e,r):g:a,d=Math.max(n,0)+s,m=e.range(),w=+m[0]+.5,_=+m[m.length-1]+.5,Y=(e.bandwidth?X:T)(e.copy()),C=u.selection?u.selection():u,k=C.selectAll(".domain").data([null]),D=C.selectAll(".tick").data(f,e).order(),A=D.exit(),B=D.enter().append("g").attr("class","tick"),S=D.select("line"),G=D.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor"));D=D.merge(B);S=S.merge(B.append("line").attr("stroke","currentColor").attr(l+"2",h*n));G=G.merge(B.append("text").attr("fill","currentColor").attr(l,h*d).attr("dy",t===x?"0em":t===b?"0.71em":"0.32em"));if(u!==C){k=k.transition(u);D=D.transition(u);S=S.transition(u);G=G.transition(u);A=A.transition(u).attr("opacity",L).attr("transform",(function(t){return isFinite(t=Y(t))?c(t):this.getAttribute("transform")}));B.attr("opacity",L).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:Y(t))}))}A.remove();k.attr("d",t===v||t==y?o?"M"+h*o+","+w+"H0.5V"+_+"H"+h*o:"M0.5,"+w+"V"+_:o?"M"+w+","+h*o+"V0.5H"+_+"V"+h*o:"M"+w+",0.5H"+_);D.attr("opacity",1).attr("transform",(function(t){return c(Y(t))}));S.attr(l+"2",h*n);G.attr(l,h*d).text(p);C.filter(M).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===y?"start":t===v?"end":"middle");C.each((function(){this.__axis=Y}))}u.scale=function(t){return arguments.length?(e=t,u):e};u.ticks=function(){return r=m.call(arguments),u};u.tickArguments=function(t){return arguments.length?(r=t==null?[]:m.call(t),u):r.slice()};u.tickValues=function(t){return arguments.length?(i=t==null?null:m.call(t),u):i&&i.slice()};u.tickFormat=function(t){return arguments.length?(a=t,u):a};u.tickSize=function(t){return arguments.length?(n=o=+t,u):n};u.tickSizeInner=function(t){return arguments.length?(n=+t,u):n};u.tickSizeOuter=function(t){return arguments.length?(o=+t,u):o};u.tickPadding=function(t){return arguments.length?(s=+t,u):s};return u}function C(t){return Y(y,t)}var k=5;var D=20;var A=t("nanoshell_linechart_axis",function(){function t(t){e(this,t);this.chart=null;this.maxText=null;this.minText=null;this.marginLeft=-k;this.marginBottom=-k;this.marginTop=0;this.unitsX="";this.unitsY=""}t.prototype.componentDidLoad=function(){var t=this;var e=this.hostEl.querySelector("nanoshell-linechart");if(!e)return;if(!this.chart){e.getInstance().then((function(e){t.chart=e;t.initAxis()}))}};t.prototype.componentWillUpdate=function(){this.updatechartHandler()};t.prototype.updatechartHandler=function(){this.yXisG.empty();this.redrawAxis()};t.prototype.calculateMarginChange=function(){var t=0;var e=0;if(this.yXisG){t=Math.max.apply(Math,__spreadArrays([0],this.yXisG.selectAll(".tick text").nodes().map((function(t){return t.getBBox().width+k}))));e=Math.max.apply(Math,__spreadArrays([0],this.axisG.selectAll(".axis-x-label").nodes().map((function(t){return t.getBBox().height+k}))))}return{marginLeft:t,marginBottom:e}};t.prototype.drawAxis=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,i;return __generator(this,(function(a){switch(a.label){case 0:this.drawXAxis();this.drawYAxis();t=this.calculateMarginChange(),e=t.marginLeft,r=t.marginBottom;i=this.marginTop;if(!(e!==this.marginLeft||r!==this.marginBottom))return[3,2];return[4,this.chart.updateMargins({bottom:r-this.marginBottom,left:e-this.marginLeft,top:k-i})];case 1:a.sent();a.label=2;case 2:this.marginLeft=e;this.marginBottom=r;this.marginTop=i||k;return[2]}}))}))};t.prototype.drawXAxis=function(){if(!this.minText||!this.maxText)return;var t=this.chart.getChartDimensions(),e=t.width,r=t.height;var i=this.chart.minMaxValues.maxX;this.axisG.attr("transform","translate(0, "+(r+D-k)+")");this.minText.text("0"+this.unitsX);this.maxText.text(""+(this.chart.refLength||i||0).toLocaleString()+this.unitsX).attr("transform","translate("+(e-k)+", 0)")};t.prototype.drawYAxis=function(){var t=this;if(!this.yXisG)return;var e=this.chart.yScale;var r=this.chart.getChartDimensions(),i=r.height,a=r.width;e.range([i,0]);this.yXisG.call(C(e).ticks(i/(i*.25)||2,",.0r").tickSize(a).tickFormat((function(e){return""+e.toLocaleString()+t.unitsY}))).call((function(t){t.selectAll(".tick:not(:first-of-type) line").attr("stroke-dasharray","2,2");t.selectAll(".tick text").attr("text-anchor","end").attr("x",-k).attr("dy",k);t.select(".domain").remove()}))};t.prototype.initAxis=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.axisG=this.chart.container.append("g").classed("axis",true);this.minText=this.axisG.append("text").classed("axis-x-label min bold-chart-label",true).attr("style","text-anchor: left;").text("0"+this.unitsX).attr("transform","translate("+k+", 0)");this.maxText=this.axisG.append("text").classed("axis-x-label max bold-chart-label",true).attr("style","text-anchor: end;").attr("transform","translate("+(this.chart.width-k)+", 0)");this.yXisG=this.chart.container.append("g").attr("transform","translate(0, 0)").classed("y-axis",true).classed("axis",true);this.drawAxis();return[2]}))}))};t.prototype.redrawAxis=function(){this.drawAxis()};t.prototype.render=function(){return null};Object.defineProperty(t.prototype,"hostEl",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{--nanoshell-linechart-axis-background-color:var(--ont-background-color,transparent)}.axis line,.axis path{fill:none;stroke:#000;stroke-opacity:.4;shape-rendering:geometricprecision}.tick text{font-size:11px;opacity:.8}"},enumerable:true,configurable:true});return t}());var B=5;var S=t("nanoshell_linechart_label",function(){function t(t){e(this,t);this.chart=null;this.marginLeft=0;this.marginBottom=0;this.marginTop=0;this.labelX="";this.labelXLeft="";this.labelXRight="";this.labelY=""}t.prototype.componentDidLoad=function(){var t=this;var e=this.hostEl.querySelector("nanoshell-linechart");if(!e)return;if(!this.chart){e.getInstance().then((function(e){t.chart=e;t.initLabels()}))}};t.prototype.componentWillUpdate=function(){this.updatechartHandler()};t.prototype.updatechartHandler=function(){this.labelG.empty();this.redrawLabels()};t.prototype.calculateMarginChange=function(){var t=0;var e=0;var r=this.yLabelText.node();var i=this.xLabelText.node();var a=this.xLeftLabelText.node();var n=this.xRightLabelText.node();var o=this.labelY&&r?r.getBBox().height:0;var s=this.labelX&&i?i.getBBox().height:0;if((this.labelXLeft||this.labelXRight)&&!this.labelY){var h=n||n;s=h?h.getBBox().height:0}if(this.labelG&&i&&a&&n&&r){t=o+B;e=s+B}return{marginLeft:t,marginBottom:e,labelYHeight:o,labelXHeight:s}};t.prototype.drawLabels=function(){return __awaiter(this,void 0,void 0,(function(){var t,e,r,i,a,n,o,s,h,l,c,u,f;return __generator(this,(function(p){switch(p.label){case 0:if(!this.labelG||!this.xLabelText||!this.xLeftLabelText||!this.xRightLabelText)return[2];t=this.chart.margin,e=t.left,r=t.top,i=t.bottom;a=this.chart.getChartDimensions(),n=a.width,o=a.height;this.labelG.attr("transform","translate("+-e+", "+o+")");this.xLabelText.text(this.labelX);this.xLeftLabelText.text(this.labelXLeft);this.xRightLabelText.text(this.labelXRight);this.yLabelText.text(this.labelY);s=this.calculateMarginChange(),h=s.marginLeft,l=s.marginBottom,c=s.labelXHeight,u=s.labelYHeight;this.xLabelText.attr("transform","translate("+(e+n/2)+", "+(i-c<l?i-B:i-c)+")");this.xLeftLabelText.attr("transform","translate("+(e+B)+", "+(i-B)+")");this.xRightLabelText.attr("transform","translate("+(e+n-B)+", "+(i-B)+")");this.yLabelText.attr("transform","translate("+u+", "+-o/2+") rotate(-90)");f=this.marginTop;if(!(h!==this.marginLeft||l!==this.marginBottom))return[3,2];return[4,this.chart.updateMargins({bottom:l-this.marginBottom,left:h-this.marginLeft})];case 1:p.sent();p.label=2;case 2:this.marginLeft=h;this.marginBottom=l;this.marginTop=f||r;return[2]}}))}))};t.prototype.initLabels=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.labelG=this.chart.container.append("g").classed("chart-label",true);this.xLabelText=this.labelG.append("text").classed("bold-chart-label",true).attr("style","text-anchor: middle;").text(this.labelX);this.yLabelText=this.labelG.append("text").classed("bold-chart-label",true).attr("style","text-anchor: middle;").text(this.labelY);this.xLeftLabelText=this.labelG.append("text").classed("bold-chart-label",true).attr("style","text-anchor: left;").text(this.labelXLeft);this.xRightLabelText=this.labelG.append("text").classed("bold-chart-label",true).attr("style","text-anchor: end;").text(this.labelXRight);this.drawLabels();return[2]}))}))};t.prototype.redrawLabels=function(){this.drawLabels()};t.prototype.render=function(){return null};Object.defineProperty(t.prototype,"hostEl",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{--nanoshell-linechart-label-background-color:var(--ont-background-color,transparent)}.bold-chart-label{font-size:11px;opacity:.8}"},enumerable:true,configurable:true});return t}());var G=function(t,e,r){if(r===void 0){r=.01}var i=e.getTotalLength();var a=0;var n=e.getPointAtLength((i+a)/2);var o=50;var s=0;while(t<n.x-r||t>n.x+r){n=e.getPointAtLength((i+a)/2);if(t<n.x){i=(a+i)/2}else{a=(a+i)/2}s+=1;if(o<s){break}}return n.y};var E=20;var H=10;var O=function(t){return Function('"use strict"; return '+t+";")().bind(undefined)};var F=t("nanoshell_linechart_tooltip",function(){function t(t){e(this,t);this.chart=null;this.formatX=function(t){return""+(typeof t==="number"?t.toLocaleString():t)};this.formatY=function(t){return""+(typeof t==="number"?t.toLocaleString():t)}}t.prototype.formatXHandler=function(t){this.formatX=typeof t==="string"?O(t):t;if(this.chart)this.redrawTooltip()};t.prototype.formatYHandler=function(t){this.formatY=typeof t==="string"?O(t):t;if(this.chart)this.redrawTooltip()};t.prototype.componentDidLoad=function(){var t=this;try{if(typeof this.formatX==="string")this.formatX=O(this.formatX)}catch(r){console.warn("X label formatter is not a function")}try{if(typeof this.formatY==="string")this.formatY=O(this.formatY)}catch(r){console.warn("Y label formatter is not a function")}var e=this.hostEl.querySelector("nanoshell-linechart");if(!e)return;if(!this.chart){e.getInstance().then((function(e){t.chart=e;t.initTooltip()}))}};t.prototype.beforeUpdatechartHandler=function(){var t=this.chart.getChartDimensions().height;this.tooltipLabelYCircle.attr("r",5).attr("stroke-width",8).transition().duration(this.chart.transitionDuration-50).attr("r",0).attr("stroke-width",0);this.tooltipLine.attr("y1",0).transition().duration(this.chart.transitionDuration-50).attr("y1",t)};t.prototype.updatechartHandler=function(){this.tooltipG.empty();this.redrawTooltip()};t.prototype.drawTooltip=function(){var t=this.chart.getChartDimensions().height;this.tooltipLabelYCircle.attr("r",0).attr("stroke-width",0).transition().duration(1e3).attr("r",5).attr("stroke-width",8);this.tooltipLine.attr("y2",t).attr("y1",t).transition().duration(this.chart.transitionDuration-50).attr("y1",0);this.tooltipG.transition().style("opacity",1)};t.prototype.initTooltip=function(){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.chart.updateMargins({top:E})];case 1:e.sent();this.chart.svg.on("mousemove",(function(){t.setTooltip(u(t.chart.svg.node())[0])})).on("mouseleave",(function(){return t.tooltipG.transition().style("opacity",0)})).on("mouseenter",(function(){return t.drawTooltip()}));this.tooltipG=this.chart.container.append("g");this.tooltipLine=this.tooltipG.append("line").attr("stroke-width",1).attr("stroke","black").attr("opacity",.3).attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",0);this.tooltipLabelX=this.tooltipG.append("text").attr("fill","#444").classed("tooltip-label-top",true);this.tooltipLabelY=this.tooltipG.append("text").attr("fill","#444").classed("tooltip-label-bottom",true);this.tooltipLabelYCircle=this.tooltipG.append("circle").attr("fill","#2c6d68").attr("opacity",.8).attr("stroke","#53b8b1").attr("stroke-opacity",.2).attr("cx",0);this.drawTooltip();return[2]}}))}))};t.prototype.redrawTooltip=function(){this.drawTooltip();this.setMaxValue()};t.prototype.setMaxValue=function(){var t=this.chart.minMaxValues,e=t.xForMaxY,r=t.yForMaxX;var i=this.chart.margin.left;var a=0;if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){var n=this.chart.width/this.hostEl.getBoundingClientRect().width;a=n*this.chart.hostEl.getBoundingClientRect().left-4}var o=Math.round(this.chart.xScale(e));var s=Math.round(this.chart.yScale(r));this.setTooltip(o+i+a,s)};t.prototype.setTooltip=function(t,e){var r=this.chart.getChartDimensions(),i=r.width,a=r.height;var n=0;if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){var o=this.chart.width/this.hostEl.getBoundingClientRect().width;n=o*this.chart.hostEl.getBoundingClientRect().left-4}var s=this.chart.margin.left;var h=t-s-n;var l=Math.round(this.chart.xScale.invert(h));var c=e||Math.round(h)!==0?G(Math.floor(h),this.chart.path.node(),1e-4):a;if(h>=0&&h<=i){this.tooltipG.style("display","block");this.tooltipG.attr("transform","translate("+Math.floor(h)+", 0)");this.tooltipLine.attr("y2",a);this.tooltipLabelX.text(this.formatX.call({},l.toLocaleString()));this.tooltipLabelY.text(this.formatY.call({},this.chart.yScale.invert(c).toFixed(0)));this.tooltipLabelYCircle.attr("cy",c);c=Math.min(c,a);var u=Math.max(this.tooltipLabelX.node().getBBoxZ&&this.tooltipLabelX.node().getBBoxZ().width||150,this.tooltipLabelY.node().getBBoxZ&&this.tooltipLabelY.node().getBBoxZ().width||150);var f=h+u+H>i;if(u){if(f){this.tooltipG.style("text-anchor","end");this.tooltipLabelX.attr("transform","translate(-"+H+","+(a-6)+")");this.tooltipLabelY.attr("transform","translate(-"+H+","+Math.min(c-6,a-20)+")")}else{this.tooltipG.style("text-anchor","start");this.tooltipLabelX.attr("transform","translate("+H+","+(a-6)+")");this.tooltipLabelY.attr("transform","translate("+H+","+Math.min(c-6,a-20)+")")}}}};t.prototype.render=function(){return null};Object.defineProperty(t.prototype,"hostEl",{get:function(){return a(this)},enumerable:true,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{formatX:["formatXHandler"],formatY:["formatYHandler"]}},enumerable:true,configurable:true});Object.defineProperty(t,"style",{get:function(){return":host{--nanoshell-linechart-tooltip-background-color:var(--ont-background-color,transparent)}.tooltip-label-bottom,.tooltip-label-top{font-size:10px;font-weight:700;color:#696969}"},enumerable:true,configurable:true});return t}())}}}));